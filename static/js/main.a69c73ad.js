/*! For license information please see main.a69c73ad.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,v=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(v){var i=d(n);i&&i!==v&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),p=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!p||!p[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case p:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=p,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===p},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,je=!1,Ve=null,Ue={onError:function(e){Fe=!0,Me=e}};function Be(e,t,n,r,i,a,o,u,s){Fe=!1,Me=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,It,_t=!1,Tt=[],Ct=null,Nt=null,Dt=null,At=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Dt&&jt(Dt)&&(Dt=null),At.forEach(Vt),Ot.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==Dt&&Bt(Dt,e),At.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=Zt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Ft(Nt,e,t,n,r,i),!0;case"mouseover":return Dt=Ft(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Ft(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Zt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=an(dn),pn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Sn}var _n=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Dn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Fn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){jr(e,0)}function Zn(e){if(W(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Wn)){var t=[];Hn(t,Wn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Wn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Dr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Me;Fe=!1,Me=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Dr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case _r:case Tr:case Cr:s=yn;break;case Nr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Oe(v,h))&&l.push(Hr(v,p,d)))),f)break;v=v.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[vi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,gi(i)===r&&((l=new l(h,v+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,s&&c)e:{for(h=c,v=0,d=l=s;d;d=Wr(d))v++;for(d=0,p=h;p;p=Wr(p))d++;for(;0<v-d;)l=Wr(l),v--;for(;0<d-v;)h=Wr(h),d--;for(;v--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,vi="__reactContainer$"+fi,pi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Di=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ci.current,_i(Ci,e),_i(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),_i(Ci,e)):Ii(Ni),_i(Ni,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Je,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Ki=0,Hi=null,Gi=0,Wi=[],Qi=0,Zi=null,$i=1,Yi="";function Xi(e,t){qi[Ki++]=Gi,qi[Ki++]=Hi,Hi=e,Gi=t}function Ji(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Yi,Wi[Qi++]=Zi,Zi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Zi;)Zi=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function va(e){null===aa?aa=[e]:aa.push(e)}var pa=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=M({},f,h);break e;case 2:Da=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Oi(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Oi(t)?Di:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function p(i,a,u,s){for(var c=null,l=null,f=a,p=a=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var y=d(i,f,u[p],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,p),null===l?c=y:l.sibling=y,l=y,f=m}if(p===u.length)return n(i,f),ia&&Xi(i,p),c;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,p),c}for(f=r(i,f);p<u.length;p++)null!==(m=v(f,i,p,u[p],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),a=o(m,a,p),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,p),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,p=u,m=u=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=d(i,p,g.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,p=y}if(g.done)return n(i,p),ia&&Xi(i,m),l;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=v(p,i,m,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Za(!0),Ya=Za(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ja),_i(Ja,t)}function io(){Ii(Ja),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Ja,n))}function oo(e){eo.current===e&&(Ii(Ja),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,vo=0,po=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(vo=o,po=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,vo=0,yo=mo=po=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?po.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?po.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?po.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((vo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,po.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,po.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=po,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&vo)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,po,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=_o();po.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}po.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Zo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=pt(),po.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===po||null!==t&&t===po}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,po,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:jo,useDebugValue:Zo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=po,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&vo)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Zo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Yo,useReducer:Do,useRef:Uo,useState:function(){return Do(Co)},useDebugValue:Zo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Do(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function vu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function pu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Di:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Fi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ai(t,c=Oi(n)?Di:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Da?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Da||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ai(t,s=Oi(n)?Di:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Da=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ni.current||Da?("function"===typeof d&&(Ua(t,n,d,r),v=t.memoizedState),(c=Da||za(t,n,c,r,h,v,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Au(e,t,n,r,i){return da(),va(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return pc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Yi,Wi[Qi++]=Zi,$i=e.id,Yi=e.overflow,Zi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&va(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Z(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):pc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ps(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ps(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ps(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(ps(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;null!=v?ne(i,!!o.multiple,v,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ps(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ps(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ps(t,e),ys(e);break;case 13:ps(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,ps(t,e),$u=l):ps(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(v=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==v?(v.return=d,Xu=v):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ps(t,e),ys(e),4&r&&vs(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Zu;var c=$u;if(Zu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,bs(a,t,n),a=a.sibling;Xu=i,Zu=u,$u=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):ks(e)}}function ks(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Es,Ss=Math.ceil,Is=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,Ds=null,As=0,Os=0,Ps=Si(0),Rs=0,Ls=null,Fs=0,Ms=0,js=0,Vs=null,Us=null,Bs=0,zs=1/0,qs=null,Ks=!1,Hs=null,Gs=null,Ws=!1,Qs=null,Zs=0,$s=0,Ys=null,Xs=-1,Js=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==As?As&-As:null!==pa.transition?(0===Js&&(Js=pt()),Js):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Ms|=n),4===Rs&&uc(e,As)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Ye()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?As:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=vc();for(Ns===e&&As===t||(qs=null,zs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Ds?t=0:(Ns=null,As=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=vt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Ye()+500,Vi&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Ps.current,Ii(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,Ds=e=Pc(e.current,null),As=Os=t,Rs=0,Ls=null,js=Ms=Fs=0,Us=Vs=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=po.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(vo=0,yo=mo=po=null,bo=!1,ko=0,_s.current=null,null===n||null===n.return){Rs=1,Ls=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=yu(u);if(null!==v){v.flags&=-257,gu(v,u,s,0,t),1&v.mode&&mu(o,l,t),c=l;var p=(t=v).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(0===(1&t)){mu(o,l,t),pc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),va(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function pc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Ms)||uc(Ns,As)}function mc(e,t){var n=Cs;Cs|=2;var r=vc();for(Ns===e&&As===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Ds)throw Error(a(261));return Ns=null,As=0,Rs}function yc(){for(;null!==Ds;)bc(Ds)}function gc(){for(;null!==Ds&&!Ze();)bc(Ds)}function bc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?kc(e):Ds=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Os)))return void(Ds=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Rs=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ds=Ns=null,As=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}p=ts,ts=!1}(e,n),ms(n,e),vr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Ws&&(Ws=!1,Qs=e,Zs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&Zs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ys?$s++:($s=0,Ys=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt(Zs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Zs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,v=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=v,Xu=d;break}Xu=v}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var b=e.current;for(Xu=b;null!==Xu;){var k=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Xu=k;else e:for(u=b;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=vu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=pu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(As&n)===n&&(4===Rs||3===Rs&&(130023424&As)===As&&500>Ye()-Bs?hc(e,0):js|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Nc(e,t){return We(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Dc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case D:return(e=Ac(19,n,t,i)).elementType=D,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case A:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Du(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(_i(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Au(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Fi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[vi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[vi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[vi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(zs=Ye()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[vi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case p:case v:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,p(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},484:function(e,t,n){"use strict";var r=n(781).qC;t.Uo="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},781:function(e,t,n){"use strict";n.d(t,{MT:function(){return c},UY:function(){return l},md:function(){return h},qC:function(){return f}});var r=n(413);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var o=e,l=t,f=[],h=f,d=!1;function v(){h===f&&(h=f.slice())}function p(){if(d)throw new Error(i(3));return l}function m(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return v(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,v();var n=h.indexOf(e);h.splice(n,1),f=null}}}function y(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=o(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(i(10));o=e,y({type:u.REPLACE})}function b(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return y({type:u.INIT}),(r={dispatch:y,subscribe:m,getState:p,replaceReducer:g})[a]=b,r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(i(14))}a[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?a:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map((function(e){return e(o)}));return a=f.apply(void 0,u)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:a})}}}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,v=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!p)if(null!==r(c))p=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){p=!1,m&&(m=!1,g(_),_=-1),v=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,_=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function D(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof b)E=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=D,E=function(){O.postMessage(null)}}else E=function(){y(D,0)};function P(e){I=e,S||(S=!0,E())}function R(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),p||v||(p=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},391:function(e){"use strict";var t=function(){};e.exports=t},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Tt},SDK_VERSION:function(){return Pn},_DEFAULT_ENTRY_NAME:function(){return kn},_addComponent:function(){return Sn},_addOrOverwriteComponent:function(){return In},_apps:function(){return xn},_clearComponents:function(){return Nn},_components:function(){return En},_getProvider:function(){return Tn},_registerComponent:function(){return _n},_removeServiceInstance:function(){return Cn},deleteApp:function(){return Mn},getApp:function(){return Ln},getApps:function(){return Fn},initializeApp:function(){return Rn},onLog:function(){return Un},registerVersion:function(){return Vn},setLogLevel:function(){return Bn}});var t=n(791),r=n.t(t,2),i=n(250),a=n(248),o=n(327),u=n(164);var s=function(e){e()},c=function(){return s},l=(0,t.createContext)(null);function f(){return(0,t.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},d=h,v=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=d(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var m=p();n(110),n(900);var y={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=y;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=y)},getListeners:function(){return r}};return o}var b=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var k=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=g(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);b((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||l;return t.createElement(s.Provider,{value:o},i)};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var x=w();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?x:w(e);return function(){return t().dispatch}}var S,I=E();function _(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function T(e,t){if(_(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!_(e[n[i]],t[n[i]]))return!1;return!0}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function A(e){return function(e){if(Array.isArray(e))return C(e)}(e)||N(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),S=u.unstable_batchedUpdates,s=S;var P=n(142);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,P.Z)(r.key),r)}}function L(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var U,B=n(2);function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){if(t&&("object"===(0,B.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function K(e){var t=V();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function H(e){if(Array.isArray(e))return e}function G(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){return H(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||D(e,t)||G()}function Q(e,t,n){return Q=V()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&F(i,n.prototype),i},Q.apply(null,arguments)}function Z(e){var t="function"===typeof Map?new Map:void 0;return Z=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Q(e,arguments,j(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),F(n,e)},Z(e)}function $(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(U||(U={}));var X,J="popstate";function ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function te(e,t){return{usr:e.state,key:e.key,idx:t}}function ne(e,t,n,r){return void 0===n&&(n=null),Y({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ie(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function re(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ie(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ae(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=U.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function v(){l=U.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function p(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:re(e);return ee(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(Y({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(J,v),f=e,function(){o.removeEventListener(J,v),f=null}},createHref:function(e){return t(o,e)},createURL:p,encodeLocation:function(e){var t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=U.Push;var r=ne(m.location,e,t);n&&n(r,e);var i=te(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=U.Replace;var r=ne(m.location,e,t);n&&n(r,e);var i=te(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function oe(e,t,n){void 0===n&&(n="/");var r=pe(("string"===typeof t?ie(t):t).pathname||"/",n);if(null==r)return null;var i=ue(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=he(i[o],ve(r));return a}function ue(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ee(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ke([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(ee(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),ue(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:fe(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=$(se(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function se(e){var t=e.split("/");if(0===t.length)return[];var n,r=H(n=t)||N(n)||D(n)||G(),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=se(a.join("/")),c=[];return c.push.apply(c,A(s.map((function(e){return""===e?u:[u,e].join("/")})))),o&&c.push.apply(c,A(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(X||(X={}));var ce=/^:\w+$/,le=function(e){return"*"===e};function fe(e,t){var n=e.split("/"),r=n.length;return n.some(le)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!le(e)})).reduce((function(e,t){return e+(ce.test(t)?3:""===t?1:10)}),r)}function he(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=de({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ke([i,l.pathname]),pathnameBase:we(ke([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ke([i,l.pathnameBase]))}return a}function de(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);me("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=W(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return me(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function ve(e){try{return decodeURI(e)}catch(t){return me(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function pe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function me(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ye(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ge(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function be(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=ie(e):(ee(!(i=Y({},e)).pathname||!i.pathname.includes("?"),ye("?","pathname","search",i)),ee(!i.pathname||!i.pathname.includes("#"),ye("#","pathname","hash",i)),ee(!i.search||!i.search.includes("#"),ye("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ie(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:xe(a),hash:Ee(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ke=function(e){return e.join("/").replace(/\/\/+/g,"/")},we=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},xe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Ee=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Se=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n)}(Z(Error));function Ie(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var _e=["post","put","patch","delete"],Te=(new Set(_e),["get"].concat(_e));new Set(Te),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}var Ne="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},De=t.useState,Ae=t.useEffect,Oe=t.useLayoutEffect,Pe=t.useDebugValue;function Re(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ne(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var Le=t.createContext(null);var Fe=t.createContext(null);var Me=t.createContext(null);var je=t.createContext(null);var Ve=t.createContext(null);var Ue=t.createContext({outlet:null,matches:[]});var Be=t.createContext(null);function ze(){return null!=t.useContext(Ve)}function qe(){return ze()||ee(!1),t.useContext(Ve).location}function Ke(){ze()||ee(!1);var e=t.useContext(je),n=e.basename,r=e.navigator,i=t.useContext(Ue).matches,a=qe().pathname,o=JSON.stringify(ge(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=be(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ke([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function He(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Ue).matches,a=qe().pathname,o=JSON.stringify(ge(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return be(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ge(){var e=function(){var e,n=t.useContext(Be),r=Xe(Qe.UseRouteError),i=Je(Qe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var We,Qe,Ze=function(e){M(r,e);var n=K(r);function r(e){var t;return O(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return L(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Ue.Provider,{value:this.props.routeContext},t.createElement(Be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function $e(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Le);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ue.Provider,{value:n},i)}function Ye(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||ee(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(Ge,null):null,l=n.concat(i.slice(0,u+1)),f=function(){return t.createElement($e,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Ze,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Xe(e){var n=t.useContext(Fe);return n||ee(!1),n}function Je(e){var n=function(e){var n=t.useContext(Ue);return n||ee(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ee(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(We||(We={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Qe||(Qe={}));var et;function tt(e){ee(!1)}function nt(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?U.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;ze()&&ee(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=ie(o));var v=o,p=v.pathname,m=void 0===p?"/":p,y=v.search,g=void 0===y?"":y,b=v.hash,k=void 0===b?"":b,w=v.state,x=void 0===w?null:w,E=v.key,S=void 0===E?"default":E,I=t.useMemo((function(){var e=pe(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:x,key:S}}),[h,m,g,k,x,S]);return null==I?null:t.createElement(je.Provider,{value:d},t.createElement(Ve.Provider,{children:a,value:{location:I,navigationType:s}}))}function rt(e){var n=e.children,r=e.location,i=t.useContext(Le);return function(e,n){ze()||ee(!1);var r,i=t.useContext(je).navigator,a=t.useContext(Fe),o=t.useContext(Ue).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,qe());if(n){var f,h="string"===typeof n?ie(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||ee(!1),r=h}else r=l;var d=r.pathname||"/",v=oe(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),p=Ye(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ke([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ke([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&p?t.createElement(Ve.Provider,{value:{location:Ce({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:U.Pop}},p):p}(i&&!n?i.router.routes:at(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(et||(et={}));var it=new Promise((function(){}));t.Component;function at(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==tt&&ee(!1),e.props.index&&e.props.children&&ee(!1);var a=[].concat(A(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=at(e.props.children,a)),r.push(o)}else r.push.apply(r,at(e.props.children,n))})),r}function ot(){ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,a)&&(p=y);var g=v.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,B.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ut(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ut(a,r,i,o,u,"next",e)}function u(e){ut(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ct="CREATE_FOLDER",lt="ADD_FOLDER",ft="SET_LOADING",ht="CHANGE_FOLDER",dt=n(942),vt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},mt=function(e){return function(e){var t=vt(e);return pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},yt=function(e){try{return pt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=gt(e[n],t[n]));return e}var bt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},kt=function(){try{return bt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/FileManager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&yt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},wt=function(){var e;return null===(e=kt())||void 0===e?void 0:e.config},xt=function(){function e(){var t=this;O(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return L(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Et(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(a)),""].join(".")}function St(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function It(){return!function(){var e,t=null===(e=kt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Tt=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(z(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(z(a),Ct.prototype.create),a}return L(n)}(Z(Error)),Ct=function(){function e(t,n,r){O(this,e),this.service=t,this.serviceName=n,this.errors=r}return L(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Nt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Tt(n,a,t);return o}}]),e}();function Nt(e,t){return e.replace(Dt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Dt=/\{\$([^}]+)}/g;function At(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ot(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Pt(u)&&Pt(s)){if(!Ot(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Pt(e){return null!==e&&"object"===typeof e}function Rt(e,t){var n=new Lt(e,t);return n.subscribe.bind(n)}var Lt=function(){function e(t,n){var r=this;O(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return L(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ft),void 0===r.error&&(r.error=Ft),void 0===r.complete&&(r.complete=Ft);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ft(){}function Mt(e){return e&&e._delegate?e._delegate:e}var jt=function(){function e(t,n,r){O(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return L(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Vt="[DEFAULT]",Ut=function(){function e(t,n){O(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return L(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vt})}catch(s){}var t,n=$(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=W(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=st(ot().mark((function e(){var t;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(A(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),A(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=W(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ay){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Vt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ay){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.component?this.component.multipleInstances?e:Vt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Bt,zt,qt=function(){function e(t){O(this,e),this.name=t,this.providers=new Map}return L(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ut(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Kt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zt||(zt={}));var Ht={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},Gt=zt.INFO,Wt=(Bt={},(0,dt.Z)(Bt,zt.DEBUG,"log"),(0,dt.Z)(Bt,zt.VERBOSE,"log"),(0,dt.Z)(Bt,zt.INFO,"info"),(0,dt.Z)(Bt,zt.WARN,"warn"),(0,dt.Z)(Bt,zt.ERROR,"error"),Bt),Qt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Zt=function(){function e(t){O(this,e),this.name=t,this._logLevel=Gt,this._logHandler=Qt,this._userLogHandler=null,Kt.push(this)}return L(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ht[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.DEBUG].concat(t)),this._logHandler.apply(this,[this,zt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.INFO].concat(t)),this._logHandler.apply(this,[this,zt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.WARN].concat(t)),this._logHandler.apply(this,[this,zt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.ERROR].concat(t)),this._logHandler.apply(this,[this,zt.ERROR].concat(t))}}]),e}();var $t,Yt,Xt=n(413);var Jt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap;var an={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return en.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function on(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cn(this),n),sn(Jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sn(e.apply(cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[cn(this),t].concat(r));return tn.set(a,t.sort?t.sort():[t]),sn(a)}}function un(e){return"function"===typeof e?on(e):(e instanceof IDBTransaction&&function(e){if(!en.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));en.set(e,t)}}(e),t=e,($t||($t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,an):e);var t}function sn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(sn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Jt.set(t,e)})).catch((function(){})),rn.set(t,e),t}(e);if(nn.has(e))return nn.get(e);var t=un(e);return t!==e&&(nn.set(e,t),rn.set(t,e)),t}var cn=function(e){return rn.get(e)};var ln,fn,hn=["get","getKey","getAll","getAllKeys","count"],dn=["put","add","delete","clear"],vn=new Map;function pn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(vn.get(t))return vn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=dn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||hn.includes(n))){var a=function(){var e=st(ot().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return vn.set(t,a),a}}}an=function(e){return(0,Xt.Z)((0,Xt.Z)({},e),{},{get:function(t,n,r){return pn(t,n)||e.get(t,n,r)},has:function(t,n){return!!pn(t,n)||e.has(t,n)}})}(an);var mn=function(){function e(t){O(this,e),this.container=t}return L(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yn="@firebase/app",gn="0.9.1",bn=new Zt("@firebase/app"),kn="[DEFAULT]",wn=(ln={},(0,dt.Z)(ln,yn,"fire-core"),(0,dt.Z)(ln,"@firebase/app-compat","fire-core-compat"),(0,dt.Z)(ln,"@firebase/analytics","fire-analytics"),(0,dt.Z)(ln,"@firebase/analytics-compat","fire-analytics-compat"),(0,dt.Z)(ln,"@firebase/app-check","fire-app-check"),(0,dt.Z)(ln,"@firebase/app-check-compat","fire-app-check-compat"),(0,dt.Z)(ln,"@firebase/auth","fire-auth"),(0,dt.Z)(ln,"@firebase/auth-compat","fire-auth-compat"),(0,dt.Z)(ln,"@firebase/database","fire-rtdb"),(0,dt.Z)(ln,"@firebase/database-compat","fire-rtdb-compat"),(0,dt.Z)(ln,"@firebase/functions","fire-fn"),(0,dt.Z)(ln,"@firebase/functions-compat","fire-fn-compat"),(0,dt.Z)(ln,"@firebase/installations","fire-iid"),(0,dt.Z)(ln,"@firebase/installations-compat","fire-iid-compat"),(0,dt.Z)(ln,"@firebase/messaging","fire-fcm"),(0,dt.Z)(ln,"@firebase/messaging-compat","fire-fcm-compat"),(0,dt.Z)(ln,"@firebase/performance","fire-perf"),(0,dt.Z)(ln,"@firebase/performance-compat","fire-perf-compat"),(0,dt.Z)(ln,"@firebase/remote-config","fire-rc"),(0,dt.Z)(ln,"@firebase/remote-config-compat","fire-rc-compat"),(0,dt.Z)(ln,"@firebase/storage","fire-gcs"),(0,dt.Z)(ln,"@firebase/storage-compat","fire-gcs-compat"),(0,dt.Z)(ln,"@firebase/firestore","fire-fst"),(0,dt.Z)(ln,"@firebase/firestore-compat","fire-fst-compat"),(0,dt.Z)(ln,"fire-js","fire-js"),(0,dt.Z)(ln,"firebase","fire-js-all"),ln),xn=new Map,En=new Map;function Sn(e,t){try{e.container.addComponent(t)}catch(n){bn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function In(e,t){e.container.addOrOverwriteComponent(t)}function _n(e){var t=e.name;if(En.has(t))return bn.debug("There were multiple attempts to register component ".concat(t,".")),!1;En.set(t,e);var n,r=$(xn.values());try{for(r.s();!(n=r.n()).done;){Sn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Tn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kn;Tn(e,t).clearInstance(n)}function Nn(){En.clear()}var Dn=(fn={},(0,dt.Z)(fn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,dt.Z)(fn,"bad-app-name","Illegal App name: '{$appName}"),(0,dt.Z)(fn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,dt.Z)(fn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,dt.Z)(fn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,dt.Z)(fn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,dt.Z)(fn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,dt.Z)(fn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,dt.Z)(fn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,dt.Z)(fn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,dt.Z)(fn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),fn),An=new Ct("app","Firebase",Dn),On=function(){function e(t,n,r){var i=this;O(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jt("app",(function(){return i}),"PUBLIC"))}return L(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),Pn="9.16.0";function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:kn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw An.create("bad-app-name",{appName:String(a)});if(n||(n=wt()),!n)throw An.create("no-options");var o=xn.get(a);if(o){if(Ot(n,o.options)&&Ot(i,o.config))return o;throw An.create("duplicate-app",{appName:a})}var u,s=new qt(a),c=$(En.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new On(n,i,s);return xn.set(a,f),f}function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=xn.get(e);if(!t&&e===kn)return Rn();if(!t)throw An.create("no-app",{appName:e});return t}function Fn(){return Array.from(xn.values())}function Mn(e){return jn.apply(this,arguments)}function jn(){return(jn=st(ot().mark((function e(t){var n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!xn.has(n)){e.next=6;break}return xn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t,n){var r,i=null!==(r=wn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void bn.warn(u.join(" "))}_n(new jt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Un(e,t){if(null!==e&&"function"!==typeof e)throw An.create("invalid-log-argument");!function(e,t){var n,r=$(Kt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ht[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Bn(e){var t;t=e,Kt.forEach((function(e){e.setLogLevel(t)}))}var zn="firebase-heartbeat-store",qn=null;function Kn(){return qn||(qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=sn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(sn(u.result),e.oldVersion,e.newVersion,sn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(zn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),qn}function Hn(e){return Gn.apply(this,arguments)}function Gn(){return Gn=st(ot().mark((function e(t){var n,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn();case 3:return n=e.sent,e.abrupt("return",n.transaction(zn).objectStore(zn).get(Zn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Tt?bn.warn(e.t0.message):(r=An.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Gn.apply(this,arguments)}function Wn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=st(ot().mark((function e(t,n){var r,i,a,o;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn();case 3:return r=e.sent,i=r.transaction(zn,"readwrite"),a=i.objectStore(zn),e.next=8,a.put(n,Zn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Tt?bn.warn(e.t0.message):(o=An.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Qn.apply(this,arguments)}function Zn(e){return"".concat(e.name,"!").concat(e.options.appId)}var $n=function(){function e(t){var n=this;O(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new tr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return L(e,[{key:"triggerHeartbeat",value:function(){var e=st(ot().mark((function e(){var t,n,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Yn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=st(ot().mark((function e(){var t,n,r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Yn(),n=Xn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=mt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yn(){return(new Date).toISOString().substring(0,10)}function Xn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),nr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),nr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Jn,er,tr=function(){function e(t){O(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return L(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_t()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=st(ot().mark((function e(){var t;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Hn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=st(ot().mark((function e(t){var n,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=st(ot().mark((function e(t){var n,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(A(r.heartbeats),A(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function nr(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}Jn="",_n(new jt("platform-logger",(function(e){return new mn(e)}),"PRIVATE")),_n(new jt("heartbeat",(function(e){return new $n(e)}),"PRIVATE")),Vn(yn,gn,Jn),Vn(yn,gn,"esm2017"),Vn("fire-js","");var rr=function(){function e(t,n){var r=this;O(this,e),this._delegate=t,this.firebase=n,Sn(t,new jt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return L(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Mn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Sn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){In(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ir=(er={},(0,dt.Z)(er,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,dt.Z)(er,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),er),ar=new Ct("app-compat","Firebase",ir);var or=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Rn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(At(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Vn,setLogLevel:Bn,onLog:Un,apps:null,SDK_VERSION:Pn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(_n(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ar.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&gt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!At(n,e=e||kn))throw ar.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){gt(n,e)},createSubscribe:Rt,ErrorFactory:Ct,deepExtend:gt}),n}(),ur=new Zt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ur.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var sr=self.firebase.SDK_VERSION;sr&&sr.indexOf("LITE")>=0&&ur.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var cr=or;!function(e){Vn("@firebase/app-compat","0.2.1",e)}();function lr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function fr(){return fr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fr.apply(this,arguments)}cr.registerVersion("firebase","9.16.0","app-compat");var hr,dr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vr={},pr=pr||{},mr=dr||self;function yr(){}function gr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function br(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kr="closure_uid_"+(1e9*Math.random()>>>0),wr=0;function xr(e,t,n){return e.call.apply(e.bind,arguments)}function Er(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Sr(e,t,n){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xr:Er).apply(null,arguments)}function Ir(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _r(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Tr(){this.s=this.s,this.o=this.o}Tr.prototype.s=!1,Tr.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,kr)&&e[kr]||(e[kr]=++wr))},Tr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Nr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(gr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ar(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ar.prototype.h=function(){this.defaultPrevented=!0};var Or=function(){if(!mr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mr.addEventListener("test",yr,t),mr.removeEventListener("test",yr,t)}catch(n){}return e}();function Pr(e){return/^[\s\xa0]*$/.test(e)}var Rr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lr(e,t){return e<t?-1:e>t?1:0}function Fr(){var e=mr.navigator;return e&&(e=e.userAgent)?e:""}function Mr(e){return-1!=Fr().indexOf(e)}function jr(e){return jr[" "](e),e}jr[" "]=yr;var Vr,Ur=Mr("Opera"),Br=Mr("Trident")||Mr("MSIE"),zr=Mr("Edge"),qr=zr||Br,Kr=Mr("Gecko")&&!(-1!=Fr().toLowerCase().indexOf("webkit")&&!Mr("Edge"))&&!(Mr("Trident")||Mr("MSIE"))&&!Mr("Edge"),Hr=-1!=Fr().toLowerCase().indexOf("webkit")&&!Mr("Edge");function Gr(){var e=mr.document;return e?e.documentMode:void 0}e:{var Wr="",Qr=function(){var e=Fr();return Kr?/rv:([^\);]+)(\)|;)/.exec(e):zr?/Edge\/([\d\.]+)/.exec(e):Br?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hr?/WebKit\/(\S+)/.exec(e):Ur?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qr&&(Wr=Qr?Qr[1]:""),Br){var Zr=Gr();if(null!=Zr&&Zr>parseFloat(Wr)){Vr=String(Zr);break e}}Vr=Wr}var $r,Yr={};function Xr(){return function(e){var t=Yr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Rr(String(Vr)).split("."),n=Rr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Lr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Lr(0==a[2].length,0==o[2].length)||Lr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(mr.document&&Br){var Jr=Gr();$r=Jr||(parseInt(Vr,10)||void 0)}else $r=void 0;var ei=$r;function ti(e,t){if(Ar.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Kr){e:{try{jr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ni[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ti.X.h.call(this)}}_r(ti,Ar);var ni={2:"touch",3:"pen",4:"mouse"};ti.prototype.h=function(){ti.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ri="closure_listenable_"+(1e6*Math.random()|0),ii=0;function ai(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ii,this.ba=this.ea=!1}function oi(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ui(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function si(e){var t={};for(var n in e)t[n]=e[n];return t}var ci="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function li(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ci.length;a++)n=ci[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fi(e){this.src=e,this.g={},this.h=0}function hi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function di(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}fi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=di(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ai(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var vi="closure_lm_"+(1e6*Math.random()|0),pi={};function mi(e,t,n,r,i){if(r&&r.once)return gi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)mi(e,t[a],n,r,i);return null}return n=Ii(n),e&&e[ri]?e.N(t,n,br(r)?!!r.capture:!!r,i):yi(e,t,n,!1,r,i)}function yi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=br(i)?!!i.capture:!!i,u=Ei(e);if(u||(e[vi]=u=new fi(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Or||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gi(e,t[a],n,r,i);return null}return n=Ii(n),e&&e[ri]?e.O(t,n,br(r)?!!r.capture:!!r,i):yi(e,t,n,!0,r,i)}function bi(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bi(e,t[a],n,r,i);else r=br(r)?!!r.capture:!!r,n=Ii(n),e&&e[ri]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=di(a=e.g[t],n,r,i))&&(oi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ei(e))&&(t=e.g[t.toString()],e=-1,t&&(e=di(t,n,r,i)),(n=-1<e?t[e]:null)&&ki(n))}function ki(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ri])hi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ei(t))?(hi(n,e),0==n.h&&(n.src=null,t[vi]=null)):oi(e)}}}function wi(e){return e in pi?pi[e]:pi[e]="on"+e}function xi(e,t){if(e.ba)e=!0;else{t=new ti(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ki(e),e=n.call(r,t)}return e}function Ei(e){return(e=e[vi])instanceof fi?e:null}var Si="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ii(e){return"function"===typeof e?e:(e[Si]||(e[Si]=function(t){return e.handleEvent(t)}),e[Si])}function _i(){Tr.call(this),this.i=new fi(this),this.P=this,this.I=null}function Ti(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ar(t,e);else if(t instanceof Ar)t.target=t.target||e;else{var i=t;li(t=new Ar(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ci(o,r,!0,t)&&i}if(i=Ci(o=t.g=e,r,!0,t)&&i,i=Ci(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ci(o=t.g=n[a],r,!1,t)&&i}function Ci(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&hi(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}_r(_i,Tr),_i.prototype[ri]=!0,_i.prototype.removeEventListener=function(e,t,n,r){bi(this,e,t,n,r)},_i.prototype.M=function(){if(_i.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oi(n[r]);delete t.g[e],t.h--}}this.I=null},_i.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_i.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ni=mr.JSON.stringify;function Di(){var e=ji,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ai,Oi=function(){function e(){O(this,e),this.h=this.g=null}return L(e,[{key:"add",value:function(e,t){var n=Pi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pi=new(function(){function e(t,n){O(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return L(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ri}),(function(e){return e.reset()})),Ri=function(){function e(){O(this,e),this.next=this.g=this.h=null}return L(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Li(e){mr.setTimeout((function(){throw e}),0)}function Fi(e,t){Ai||function(){var e=mr.Promise.resolve(void 0);Ai=function(){e.then(Vi)}}(),Mi||(Ai(),Mi=!0),ji.add(e,t)}var Mi=!1,ji=new Oi;function Vi(){for(var e;e=Di();){try{e.h.call(e.g)}catch(n){Li(n)}var t=Pi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mi=!1}function Ui(e,t){_i.call(this),this.h=e||1,this.g=t||mr,this.j=Sr(this.lb,this),this.l=Date.now()}function Bi(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function zi(e,t,n){if("function"===typeof e)n&&(e=Sr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Sr(e.handleEvent,e)}return 2147483647<Number(t)?-1:mr.setTimeout(e,t||0)}function qi(e){e.g=zi((function(){e.g=null,e.i&&(e.i=!1,qi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_r(Ui,_i),(hr=Ui.prototype).ca=!1,hr.R=null,hr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ti(this,"tick"),this.ca&&(Bi(this),this.start()))}},hr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hr.M=function(){Ui.X.M.call(this),Bi(this),delete this.g};var Ki=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return L(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:qi(this)}},{key:"M",value:function(){fr(j(n.prototype),"M",this).call(this),this.g&&(mr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Tr);function Hi(e){Tr.call(this),this.h=e,this.g={}}_r(Hi,Tr);var Gi=[];function Wi(e,t,n,r){Array.isArray(n)||(n&&(Gi[0]=n.toString()),n=Gi);for(var i=0;i<n.length;i++){var a=mi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qi(e){ui(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ki(e)}),e),e.g={}}function Zi(){this.g=!0}function $i(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ni(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Hi.prototype.M=function(){Hi.X.M.call(this),Qi(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.Aa=function(){this.g=!1},Zi.prototype.info=function(){};var Yi={},Xi=null;function Ji(){return Xi=Xi||new _i}function ea(e){Ar.call(this,Yi.Pa,e)}function ta(e){var t=Ji();Ti(t,new ea(t))}function na(e,t){Ar.call(this,Yi.STAT_EVENT,e),this.stat=t}function ra(e){var t=Ji();Ti(t,new na(t,e))}function ia(e,t){Ar.call(this,Yi.Qa,e),this.size=t}function aa(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mr.setTimeout((function(){e()}),t)}Yi.Pa="serverreachability",_r(ea,Ar),Yi.STAT_EVENT="statevent",_r(na,Ar),Yi.Qa="timingevent",_r(ia,Ar);var oa={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ua={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sa(){}function ca(e){return e.h||(e.h=e.i())}function la(){}sa.prototype.h=null;var fa,ha={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function da(){Ar.call(this,"d")}function va(){Ar.call(this,"c")}function pa(){}function ma(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Hi(this),this.O=ga,e=qr?125:void 0,this.T=new Ui(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ya}function ya(){this.i=null,this.g="",this.h=!1}_r(da,Ar),_r(va,Ar),_r(pa,sa),pa.prototype.g=function(){return new XMLHttpRequest},pa.prototype.i=function(){return{}},fa=new pa;var ga=45e3,ba={},ka={};function wa(e,t,n){e.K=1,e.v=Ua(La(t)),e.s=n,e.P=!0,xa(e,null)}function xa(e,t){e.F=Date.now(),_a(e),e.A=La(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ja(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ya,e.g=tu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ki(Sr(e.La,e,e.g),e.N)),Wi(e.S,e.g,"readystatechange",e.ib),t=e.H?si(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ta(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ea(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Sa(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ia(e,n))==ka){4==t&&(e.o=4,ra(14),i=!1),$i(e.j,e.m,null,"[Incomplete Response]");break}if(r==ba){e.o=4,ra(15),$i(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$i(e.j,e.m,r,null),Aa(e,r)}Ea(e)&&r!=ka&&r!=ba&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ra(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wo(t),t.K=!0,ra(11))):($i(e.j,e.m,n,"[Invalid Chunked Response]"),Da(e),Na(e))}function Ia(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ka:(n=Number(t.substring(n,r)),isNaN(n)?ba:(r+=1)+n>t.length?ka:(t=t.substr(r,n),e.C=r+n,t))}function _a(e){e.V=Date.now()+e.O,Ta(e,e.O)}function Ta(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=aa(Sr(e.gb,e),t)}function Ca(e){e.B&&(mr.clearTimeout(e.B),e.B=null)}function Na(e){0==e.l.G||e.I||$o(e.l,e)}function Da(e){Ca(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bi(e.T),Qi(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Aa(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||uo(n.h,e)))if(!e.J&&uo(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zo(n),Vo(n)}Go(n),ra(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=aa(Sr(n.cb,n),6e3));if(1>=oo(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Xo(n,11)}else if((e.J||n.g==e)&&Zo(n),!Pr(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(so(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Va(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=eu(r,r.H?r.ka:null,r.V),d.J){co(r.h,d);var v=d,p=r.J;p&&v.setTimeout(p),v.B&&(Ca(v),_a(v)),r.g=d}else Ho(r);0<n.i.length&&Bo(n)}else"stop"!=a[0]&&"close"!=a[0]||Xo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xo(n,7):jo(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}ta()}catch(a){}}function Oa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(gr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(gr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(hr=ma.prototype).setTimeout=function(e){this.O=e},hr.ib=function(e){e=e.target;var t=this.L;t&&3==Oo(e)?t.l():this.La(e)},hr.La=function(e){try{if(e==this.g)e:{var t=Oo(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||qr||this.g&&(this.h.h||this.g.fa()||Po(this.g)))){this.I||4!=t||7==n||ta(),Ca(this);var r=this.g.aa();this.Y=r;t:if(Ea(this)){var i=Po(this.g);e="";var a=i.length,o=4==Oo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Da(this),Na(this);var u="";break t}this.h.i=new mr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pr(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ra(12),Da(this),Na(this);break e}$i(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Aa(this,r)}this.P?(Sa(this,t,u),qr&&this.i&&3==t&&(Wi(this.S,this.T,"tick",this.hb),this.T.start())):($i(this.j,this.m,u,null),Aa(this,u)),4==t&&Da(this),this.i&&!this.I&&(4==t?$o(this.l,this):(this.i=!1,_a(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ra(12)):(this.o=0,ra(13)),Da(this),Na(this)}}}catch(t){}},hr.hb=function(){if(this.g){var e=Oo(this.g),t=this.g.fa();this.C<t.length&&(Ca(this),Sa(this,e,t),this.i&&4!=e&&_a(this))}},hr.cancel=function(){this.I=!0,Da(this)},hr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ta(),ra(17)),Da(this),this.o=2,Na(this)):Ta(this,this.V-e)};var Pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ra){this.h=void 0!==t?t:e.h,Fa(this,e.j),this.s=e.s,this.g=e.g,Ma(this,e.m),this.l=e.l,t=e.i;var n=new Za;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ja(this,n),this.o=e.o}else e&&(n=String(e).match(Pa))?(this.h=!!t,Fa(this,n[1]||"",!0),this.s=Ba(n[2]||""),this.g=Ba(n[3]||"",!0),Ma(this,n[4]),this.l=Ba(n[5]||"",!0),ja(this,n[6]||"",!0),this.o=Ba(n[7]||"")):(this.h=!!t,this.i=new Za(null,this.h))}function La(e){return new Ra(e)}function Fa(e,t,n){e.j=n?Ba(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ma(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ja(e,t,n){t instanceof Za?(e.i=t,function(e,t){t&&!e.j&&($a(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ya(this,t),Ja(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=za(t,Wa)),e.i=new Za(t,e.h))}function Va(e,t,n){e.i.set(t,n)}function Ua(e){return Va(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ba(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function za(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ra.prototype.toString=function(){var e=[],t=this.j;t&&e.push(za(t,Ka,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(za(t,Ka,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(za(n,"/"==n.charAt(0)?Ga:Ha,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",za(n,Qa)),e.join("")};var Ka=/[#\/\?@]/g,Ha=/[#\?:]/g,Ga=/[#\?]/g,Wa=/[#\?@]/g,Qa=/#/g;function Za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $a(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ya(e,t){$a(e),t=eo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xa(e,t){return $a(e),t=eo(e,t),e.g.has(t)}function Ja(e,t,n){Ya(e,t),0<n.length&&(e.i=null,e.g.set(eo(e,t),Nr(n)),e.h+=n.length)}function eo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hr=Za.prototype).add=function(e,t){$a(this),this.i=null,e=eo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hr.forEach=function(e,t){$a(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},hr.oa=function(){$a(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hr.W=function(e){$a(this);var t=[];if("string"===typeof e)Xa(this,e)&&(t=t.concat(this.g.get(eo(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},hr.set=function(e,t){return $a(this),this.i=null,Xa(this,e=eo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},hr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var to=L((function e(t,n){O(this,e),this.h=t,this.g=n}));function no(e){this.l=e||io,mr.PerformanceNavigationTiming?e=0<(e=mr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mr.g&&mr.g.Ga&&mr.g.Ga()&&mr.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ro,io=10;function ao(e){return!!e.h||!!e.g&&e.g.size>=e.j}function oo(e){return e.h?1:e.g?e.g.size:0}function uo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function so(e,t){e.g?e.g.add(t):e.h=t}function co(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Nr(e.i)}function fo(){}function ho(){this.g=new fo}function vo(e,t,n){var r=n||"";try{Oa(e,(function(e,n){var i=e;br(e)&&(i=Ni(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function po(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function mo(e){this.l=e.ac||null,this.j=e.jb||!1}function yo(e,t){_i.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=go,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}no.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},fo.prototype.stringify=function(e){return mr.JSON.stringify(e,void 0)},fo.prototype.parse=function(e){return mr.JSON.parse(e,void 0)},_r(mo,sa),mo.prototype.g=function(){return new yo(this.l,this.j)},mo.prototype.i=(ro={},function(){return ro}),_r(yo,_i);var go=0;function bo(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ko(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wo(e)}function wo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hr=yo.prototype).open=function(e,t){if(this.readyState!=go)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wo(this)},hr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mr).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},hr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ko(this)),this.readyState=go},hr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof mr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bo(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},hr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ko(this):wo(this),3==this.readyState&&bo(this)}},hr.Va=function(e){this.g&&(this.response=this.responseText=e,ko(this))},hr.Ua=function(e){this.g&&(this.response=e,ko(this))},hr.ga=function(){this.g&&ko(this)},hr.setRequestHeader=function(e,t){this.v.append(e,t)},hr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xo=mr.JSON.parse;function Eo(e){_i.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=So,this.K=this.L=!1}_r(Eo,_i);var So="",Io=/^https?$/i,_o=["POST","PUT"];function To(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Co(e),Do(e)}function Co(e){e.D||(e.D=!0,Ti(e,"complete"),Ti(e,"error"))}function No(e){if(e.h&&"undefined"!=typeof pr&&(!e.C[1]||4!=Oo(e)||2!=e.aa()))if(e.v&&4==Oo(e))zi(e.Ha,0,e);else if(Ti(e,"readystatechange"),4==Oo(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pa)[1]||null;if(!a&&mr.self&&mr.self.location){var o=mr.self.location.protocol;a=o.substr(0,o.length-1)}i=!Io.test(a?a.toLowerCase():"")}t=i}if(t)Ti(e,"complete"),Ti(e,"success");else{e.m=6;try{var u=2<Oo(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Co(e)}}finally{Do(e)}}}function Do(e,t){if(e.g){Ao(e);var n=e.g,r=e.C[0]?yr:null;e.g=null,e.C=null,t||Ti(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ao(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mr.clearTimeout(e.A),e.A=null)}function Oo(e){return e.g?e.g.readyState:0}function Po(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case So:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(yu){return null}}function Ro(e){var t="";return ui(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ro(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Va(e,t,n))}function Fo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mo(e){this.Ca=0,this.i=[],this.j=new Zi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Fo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Fo("baseRetryDelayMs",5e3,e),this.bb=Fo("retryDelaySeedMs",1e4,e),this.$a=Fo("forwardChannelMaxRetries",2,e),this.ta=Fo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new no(e&&e.concurrentRequestLimit),this.Fa=new ho,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function jo(e){if(Uo(e),3==e.G){var t=e.U++,n=La(e.F);Va(n,"SID",e.I),Va(n,"RID",t),Va(n,"TYPE","terminate"),qo(e,n),(t=new ma(e,e.j,t,void 0)).K=2,t.v=Ua(La(n)),n=!1,mr.navigator&&mr.navigator.sendBeacon&&(n=mr.navigator.sendBeacon(t.v.toString(),"")),!n&&mr.Image&&((new Image).src=t.v,n=!0),n||(t.g=tu(t.l,null),t.g.da(t.v)),t.F=Date.now(),_a(t)}Jo(e)}function Vo(e){e.g&&(Wo(e),e.g.cancel(),e.g=null)}function Uo(e){Vo(e),e.u&&(mr.clearTimeout(e.u),e.u=null),Zo(e),e.h.cancel(),e.m&&("number"===typeof e.m&&mr.clearTimeout(e.m),e.m=null)}function Bo(e){ao(e.h)||e.m||(e.m=!0,Fi(e.Ja,e),e.C=0)}function zo(e,t){var n;n=t?t.m:e.U++;var r=La(e.F);Va(r,"SID",e.I),Va(r,"RID",n),Va(r,"AID",e.T),qo(e,r),e.o&&e.s&&Lo(r,e.o,e.s),n=new ma(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ko(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),so(e.h,n),wa(n,r,t)}function qo(e,t){e.ia&&ui(e.ia,(function(e,n){Va(t,n,e)})),e.l&&Oa({},(function(e,n){Va(t,n,e)}))}function Ko(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Sr(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{vo(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Ho(e){e.g||e.u||(e.Z=1,Fi(e.Ia,e),e.A=0)}function Go(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=aa(Sr(e.Ia,e),Yo(e,e.A)),e.A++,!0)}function Wo(e){null!=e.B&&(mr.clearTimeout(e.B),e.B=null)}function Qo(e){e.g=new ma(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=La(e.sa);Va(t,"RID","rpc"),Va(t,"SID",e.I),Va(t,"CI",e.L?"0":"1"),Va(t,"AID",e.T),Va(t,"TYPE","xmlhttp"),qo(e,t),e.o&&e.s&&Lo(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ua(La(t)),n.s=null,n.P=!0,xa(n,e)}function Zo(e){null!=e.v&&(mr.clearTimeout(e.v),e.v=null)}function $o(e,t){var n=null;if(e.g==t){Zo(e),Wo(e),e.g=null;var r=2}else{if(!uo(e.h,t))return;n=t.D,co(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ti(r=Ji(),new ia(r,n)),Bo(e)}else Ho(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(oo(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=aa(Sr(e.Ja,e,t),Yo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Go(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Xo(e,5);break;case 4:Xo(e,10);break;case 3:Xo(e,6);break;default:Xo(e,2)}}function Yo(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Xo(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Sr(e.kb,e);n||(n=new Ra("//www.google.com/images/cleardot.gif"),mr.location&&"http"==mr.location.protocol||Fa(n,"https"),Ua(n)),function(e,t){var n=new Zi;if(mr.Image){var r=new Image;r.onload=Ir(po,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ir(po,n,r,"TestLoadImage: error",!1,t),r.onabort=Ir(po,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ir(po,n,r,"TestLoadImage: timeout",!1,t),mr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ra(2);e.G=0,e.l&&e.l.va(t),Jo(e),Uo(e)}function Jo(e){if(e.G=0,e.la=[],e.l){var t=lo(e.h);0==t.length&&0==e.i.length||(Dr(e.la,t),Dr(e.la,e.i),e.h.i.length=0,Nr(e.i),e.i.length=0),e.l.ua()}}function eu(e,t,n){var r=n instanceof Ra?La(n):new Ra(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ma(r,r.m);else{var i=mr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ra(null,void 0);r&&Fa(a,r),t&&(a.g=t),i&&Ma(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Va(r,n,t),Va(r,"VER",e.ma),qo(e,r),r}function tu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Eo(new mo({jb:!0})):new Eo(e.ra)).Ka(e.H),t}function nu(){}function ru(){if(Br&&!(10<=Number(ei)))throw Error("Environmental error: no available transport.")}function iu(e,t){_i.call(this),this.g=new Mo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Pr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Pr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new uu(this)}function au(e){da.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ou(){va.call(this),this.status=1}function uu(e){this.g=e}(hr=Eo.prototype).Ka=function(e){this.L=e},hr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fa.g(),this.C=this.u?ca(this.u):ca(fa),this.g.onreadystatechange=Sr(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void To(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=$(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=mr.FormData&&e instanceof mr.FormData,!(0<=Cr(_o,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=$(n);try{for(c.s();!(s=c.n()).done;){var l=W(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ao(this),0<this.B&&((this.K=function(e){return Br&&Xr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.qa,this)):this.A=zi(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){To(this,u)}},hr.qa=function(){"undefined"!=typeof pr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ti(this,"timeout"),this.abort(8))},hr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ti(this,"complete"),Ti(this,"abort"),Do(this))},hr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Do(this,!0)),Eo.X.M.call(this)},hr.Ha=function(){this.s||(this.F||this.v||this.l?No(this):this.fb())},hr.fb=function(){No(this)},hr.aa=function(){try{return 2<Oo(this)?this.g.status:-1}catch(ro){return-1}},hr.fa=function(){try{return this.g?this.g.responseText:""}catch(ro){return""}},hr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xo(t)}},hr.Ea=function(){return this.m},hr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(hr=Mo.prototype).ma=8,hr.G=1,hr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ma(this,this.j,e,void 0),n=this.s;if(this.S&&(n?li(n=si(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ko(this,t,r),Va(i=La(this.F),"RID",e),Va(i,"CVER",22),this.D&&Va(i,"X-HTTP-Session-Id",this.D),qo(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ro(n)))+"&"+r:this.o&&Lo(i,this.o,n)),so(this.h,t),this.Ya&&Va(i,"TYPE","init"),this.O?(Va(i,"$req",r),Va(i,"SID","null"),t.Z=!0,wa(t,i,null)):wa(t,i,r),this.G=2}}else 3==this.G&&(e?zo(this,e):0==this.i.length||ao(this.h)||zo(this))},hr.Ia=function(){if(this.u=null,Qo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=aa(Sr(this.eb,this),e)}},hr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ra(10),Vo(this),Qo(this))},hr.cb=function(){null!=this.v&&(this.v=null,Vo(this),Go(this),ra(19))},hr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ra(2)):(this.j.info("Failed to ping google.com"),ra(1))},(hr=nu.prototype).xa=function(){},hr.wa=function(){},hr.va=function(){},hr.ua=function(){},hr.Ra=function(){},ru.prototype.g=function(e,t){return new iu(e,t)},_r(iu,_i),iu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ra(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=eu(e,null,e.V),Bo(e)},iu.prototype.close=function(){jo(this.g)},iu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ni(e),e=n);t.i.push(new to(t.ab++,e)),3==t.G&&Bo(t)},iu.prototype.M=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,iu.X.M.call(this)},_r(au,da),_r(ou,va),_r(uu,nu),uu.prototype.xa=function(){Ti(this.g,"a")},uu.prototype.wa=function(e){Ti(this.g,new au(e))},uu.prototype.va=function(e){Ti(this.g,new ou)},uu.prototype.ua=function(){Ti(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,iu.prototype.send=iu.prototype.u,iu.prototype.open=iu.prototype.m,iu.prototype.close=iu.prototype.close,oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,ua.COMPLETE="complete",la.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",_i.prototype.listen=_i.prototype.N,Eo.prototype.listenOnce=Eo.prototype.O,Eo.prototype.getLastError=Eo.prototype.Oa,Eo.prototype.getLastErrorCode=Eo.prototype.Ea,Eo.prototype.getStatus=Eo.prototype.aa,Eo.prototype.getResponseJson=Eo.prototype.Sa,Eo.prototype.getResponseText=Eo.prototype.fa,Eo.prototype.send=Eo.prototype.da,Eo.prototype.setWithCredentials=Eo.prototype.Ka;var su=vr.createWebChannelTransport=function(){return new ru},cu=vr.getStatEventTarget=function(){return Ji()},lu=vr.ErrorCode=oa,fu=vr.EventType=ua,hu=vr.Event=Yi,du=vr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vu=vr.FetchXmlHttpFactory=mo,pu=vr.WebChannel=la,mu=vr.XhrIo=Eo,yu="@firebase/firestore",gu=function(){function e(t){O(this,e),this.uid=t}return L(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gu.UNAUTHENTICATED=new gu(null),gu.GOOGLE_CREDENTIALS=new gu("google-credentials-uid"),gu.FIRST_PARTY=new gu("first-party-uid"),gu.MOCK_USER=new gu("mock-user");var bu="9.16.0",ku=new Zt("@firebase/firestore");function wu(){return ku.logLevel}function xu(e){if(ku.logLevel<=zt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Iu);ku.debug.apply(ku,["Firestore (".concat(bu,"): ").concat(e)].concat(A(i)))}}function Eu(e){if(ku.logLevel<=zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Iu);ku.error.apply(ku,["Firestore (".concat(bu,"): ").concat(e)].concat(A(i)))}}function Su(e){if(ku.logLevel<=zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Iu);ku.warn.apply(ku,["Firestore (".concat(bu,"): ").concat(e)].concat(A(i)))}}function Iu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bu,") INTERNAL ASSERTION FAILED: ")+e;throw Eu(t),new Error(t)}function Tu(e,t){e||_u()}function Cu(e,t){return e}var Nu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Du=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return L(n)}(Tt),Au=L((function e(){var t=this;O(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ou=L((function e(t,n){O(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Pu=function(){function e(){O(this,e)}return L(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ru=function(){function e(t){O(this,e),this.token=t,this.changeListener=null}return L(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Lu=function(){function e(t){O(this,e),this.t=t,this.currentUser=gu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return L(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Au;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Au,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){xu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(xu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Au)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(xu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tu("string"==typeof n.accessToken),new Ou(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Tu(null===e||"string"==typeof e),new gu(e)}}]),e}(),Fu=function(){function e(t,n,r,i){O(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=gu.FIRST_PARTY,this.p=new Map}return L(e,[{key:"I",value:function(){return this.g?this.g():(Tu(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Mu=function(){function e(t,n,r,i){O(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return L(e,[{key:"getToken",value:function(){return Promise.resolve(new Fu(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ju=L((function e(t){O(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Vu=function(){function e(t){O(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return L(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&xu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,xu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){xu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):xu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Tu("string"==typeof t.token),e.A=t.token,new ju(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Uu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bu=function(){function e(){O(this,e)}return L(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Uu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zu(e,t){return e<t?-1:e>t?1:0}function qu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ku(e){return e+"\0"}var Hu=function(){function e(t,n){if(O(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Du(Nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Du(Nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Du(Nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Du(Nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return L(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zu(this.nanoseconds,e.nanoseconds):zu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Gu=function(){function e(t){O(this,e),this.timestamp=t}return L(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hu(0,0))}},{key:"max",value:function(){return new e(new Hu(253402300799,999999999))}}]),e}(),Wu=function(){function e(t,n,r){O(this,e),void 0===n?n=0:n>t.length&&_u(),void 0===r?r=t.length-n:r>t.length-n&&_u(),this.segments=t,this.offset=n,this.len=r}return L(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qu=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Du(Nu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,A(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wu),Zu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$u=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Du(Nu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Du(Nu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Du(Nu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Du(Nu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wu),Yu=function(){function e(t){O(this,e),this.path=t}return L(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Qu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qu.fromString(t))}},{key:"fromName",value:function(t){return new e(Qu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Qu.emptyPath())}},{key:"comparator",value:function(e,t){return Qu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qu(t.slice()))}}]),e}(),Xu=L((function e(t,n,r,i){O(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ju(e){return e.fields.find((function(e){return 2===e.kind}))}function es(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xu.UNKNOWN_ID=-1;var ts=L((function e(t,n){O(this,e),this.fieldPath=t,this.kind=n}));var ns=function(){function e(t,n){O(this,e),this.sequenceNumber=t,this.offset=n}return L(e,null,[{key:"empty",value:function(){return new e(0,as.min())}}]),e}();function rs(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gu.fromTimestamp(1e9===r?new Hu(n+1,0):new Hu(n,r));return new as(i,Yu.empty(),t)}function is(e){return new as(e.readTime,e.key,-1)}var as=function(){function e(t,n,r){O(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return L(e,null,[{key:"min",value:function(){return new e(Gu.min(),Yu.empty(),-1)}},{key:"max",value:function(){return new e(Gu.max(),Yu.empty(),-1)}}]),e}();function os(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yu.comparator(e.documentKey,t.documentKey))?n:zu(e.largestBatchId,t.largestBatchId)}var us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ss=function(){function e(){O(this,e),this.onCommittedListeners=[]}return L(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cs(e){return ls.apply(this,arguments)}function ls(){return ls=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Nu.FAILED_PRECONDITION&&t.message===us){e.next=2;break}throw t;case 2:xu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}var fs=function(){function e(t){var n=this;O(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return L(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_u(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),hs=function(){function e(t,n){var r=this;O(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Au,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new ps(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ks(e.target.error);r.P.reject(new ps(t,n))}}return L(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(xu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ys(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ps(n,t)}}}]),e}(),ds=function(){function e(t,n,r){O(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(St())&&Eu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return L(e,[{key:"F",value:function(){var e=st(ot().mark((function e(t){var n=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return xu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ps(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Du(Nu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Du(Nu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ps(t,n))},i.onupgradeneeded=function(e){xu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){xu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=st(ot().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ot().mark((function e(){var n,u,s,l;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=hs.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),fs.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,xu("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return xu("SimpleDb","Removing database:",e),gs(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!_t())return!1;if(e.N())return!0;var t=St(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/FileManager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),vs=function(){function e(t){O(this,e),this.q=t,this.U=!1,this.K=null}return L(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return gs(this.q.delete())}}]),e}(),ps=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,Nu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return L(n)}(Du);function ms(e){return"IndexedDbTransactionError"===e.name}var ys=function(){function e(t){O(this,e),this.store=t}return L(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(xu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gs(n)}},{key:"add",value:function(e){return xu("SimpleDb","ADD",this.store.name,e,e),gs(this.store.add(e))}},{key:"get",value:function(e){var t=this;return gs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),xu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return xu("SimpleDb","DELETE",this.store.name,e),gs(this.store.delete(e))}},{key:"count",value:function(){return xu("SimpleDb","COUNT",this.store.name),gs(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fs((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fs((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){xu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new fs((function(n,r){t.onerror=function(e){var t=ks(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new fs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new vs(i),o=t(i.primaryKey,i.value,a);if(o instanceof fs){var u=o.catch((function(e){return a.done(),fs.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return fs.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function gs(e){return new fs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ks(e.target.error);n(t)}}))}var bs=!1;function ks(e){var t=ds.D(St());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Du("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bs||(bs=!0,setTimeout((function(){throw r}),0)),r}}return e}var ws=function(){function e(t,n){O(this,e),this.asyncQueue=t,this.et=n,this.task=null}return L(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;xu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=xu,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ms(e.t4)){e.next=17;break}xu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,cs(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),xs=function(){function e(t,n){O(this,e),this.localStore=t,this.persistence=n}return L(e,[{key:"st",value:function(){var e=st(ot().mark((function e(){var t,n=this,r=arguments;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return fs.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return xu("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return xu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=is(t);os(r,n)>0&&(n=r)})),new as(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Es=function(){function e(t,n){var r=this;O(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return L(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Es.at=-1;var Ss=L((function e(t,n,r,i,a,o,u,s){O(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Is=function(){function e(t,n){O(this,e),this.projectId=t,this.database=n||"(default)"}return L(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function _s(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ts(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ns(e){return null==e}function Ds(e){return 0===e&&1/e==-1/0}function As(e){return"number"==typeof e&&Number.isInteger(e)&&!Ds(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Os=function(e){function t(e){O(this,t),this.binaryString=e}return L(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Os.EMPTY_BYTE_STRING=new Os("");var Ps=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(e){if(Tu(!!e),"string"==typeof e){var t=0,n=Ps.exec(e);if(Tu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ls(e.seconds),nanos:Ls(e.nanos)}}function Ls(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fs(e){return"string"==typeof e?Os.fromBase64String(e):Os.fromUint8Array(e)}function Ms(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function js(e){var t=e.mapValue.fields.__previous_value__;return Ms(t)?js(t):t}function Vs(e){var t=Rs(e.mapValue.fields.__local_write_time__.timestampValue);return new Hu(t.seconds,t.nanos)}var Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bs={nullValue:"NULL_VALUE"};function zs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ms(e)?4:nc(e)?9007199254740991:10:_u()}function qs(e,t){if(e===t)return!0;var n=zs(e);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vs(e).isEqual(Vs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Rs(e.timestampValue),r=Rs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fs(e.bytesValue).isEqual(Fs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ls(e.geoPointValue.latitude)===Ls(t.geoPointValue.latitude)&&Ls(e.geoPointValue.longitude)===Ls(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ls(e.integerValue)===Ls(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ls(e.doubleValue),r=Ls(t.doubleValue);return n===r?Ds(n)===Ds(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qu(e.arrayValue.values||[],t.arrayValue.values||[],qs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_s(n)!==_s(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qs(n[i],r[i])))return!1;return!0}(e,t);default:return _u()}}function Ks(e,t){return void 0!==(e.values||[]).find((function(e){return qs(e,t)}))}function Hs(e,t){if(e===t)return 0;var n=zs(e),r=zs(t);if(n!==r)return zu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ls(e.integerValue||e.doubleValue),r=Ls(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gs(e.timestampValue,t.timestampValue);case 4:return Gs(Vs(e),Vs(t));case 5:return zu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fs(e),r=Fs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zu(n[i],r[i]);if(0!==a)return a}return zu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zu(Ls(e.latitude),Ls(t.latitude));return 0!==n?n:zu(Ls(e.longitude),Ls(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hs(n[i],r[i]);if(a)return a}return zu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Us.mapValue&&t===Us.mapValue)return 0;if(e===Us.mapValue)return 1;if(t===Us.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=zu(r[o],a[o]);if(0!==u)return u;var s=Hs(n[r[o]],i[a[o]]);if(0!==s)return s}return zu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _u()}}function Gs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zu(e,t);var n=Rs(e),r=Rs(t),i=zu(n.seconds,r.seconds);return 0!==i?i:zu(n.nanos,r.nanos)}function Ws(e){return Qs(e)}function Qs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Rs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Qs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Qs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_u();var t,n}function Zs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $s(e){return!!e&&"integerValue"in e}function Ys(e){return!!e&&"arrayValue"in e}function Xs(e){return!!e&&"nullValue"in e}function Js(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ec(e){return!!e&&"mapValue"in e}function tc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ts(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=tc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function nc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rc(e){return"nullValue"in e?Bs:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zs(Is.empty(),Yu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:_u()}function ic(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zs(Is.empty(),Yu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Us:_u()}function ac(e,t){var n=Hs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function oc(e,t){var n=Hs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var uc=L((function e(t,n){O(this,e),this.position=t,this.inclusive=n}));function sc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yu.comparator(Yu.fromName(o.referenceValue),n.key):Hs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qs(e.position[n],t.position[n]))return!1;return!0}var lc=L((function e(){O(this,e)})),fc=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return L(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hs(t,this.value)):null!==t&&zs(this.value)===zs(t)&&this.matchesComparison(Hs(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _u()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wc(e,t,r):"array-contains"===t?new Ic(e,r):"in"===t?new _c(e,r):"not-in"===t?new Tc(e,r):"array-contains-any"===t?new Cc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new xc(e,n):new Ec(e,n)}}]),n}(lc),hc=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return L(n,[{key:"matches",value:function(e){return dc(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=$(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lc);function dc(e){return"and"===e.op}function vc(e){return"or"===e.op}function pc(e){return mc(e)&&dc(e)}function mc(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof hc)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function yc(e){if(e instanceof fc)return e.field.canonicalString()+e.op.toString()+Ws(e.value);if(pc(e))return e.filters.map((function(e){return yc(e)})).join(",");var t=e.filters.map((function(e){return yc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function gc(e,t){return e instanceof fc?function(e,t){return t instanceof fc&&e.op===t.op&&e.field.isEqual(t.field)&&qs(e.value,t.value)}(e,t):e instanceof hc?function(e,t){return t instanceof hc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&gc(n,t.filters[r])}),!0)}(e,t):void _u()}function bc(e,t){var n=e.filters.concat(t);return hc.create(n,e.op)}function kc(e){return e instanceof fc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ws(e.value))}(e):e instanceof hc?function(e){return e.op.toString()+" {"+e.getFilters().map(kc).join(" ,")+"}"}(e):"Filter"}var wc=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,e,r,i)).key=Yu.fromName(i.referenceValue),a}return L(n,[{key:"matches",value:function(e){var t=Yu.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(fc),xc=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,"in",r)).keys=Sc("in",r),i}return L(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fc),Ec=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,"not-in",r)).keys=Sc("not-in",r),i}return L(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fc);function Sc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yu.fromName(e.referenceValue)}))}var Ic=function(e){M(n,e);var t=K(n);function n(e,r){return O(this,n),t.call(this,e,"array-contains",r)}return L(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ys(t)&&Ks(t.arrayValue,this.value)}}]),n}(fc),_c=function(e){M(n,e);var t=K(n);function n(e,r){return O(this,n),t.call(this,e,"in",r)}return L(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ks(this.value.arrayValue,t)}}]),n}(fc),Tc=function(e){M(n,e);var t=K(n);function n(e,r){return O(this,n),t.call(this,e,"not-in",r)}return L(n,[{key:"matches",value:function(e){if(Ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ks(this.value.arrayValue,t)}}]),n}(fc),Cc=function(e){M(n,e);var t=K(n);function n(e,r){return O(this,n),t.call(this,e,"array-contains-any",r)}return L(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ys(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ks(t.value.arrayValue,e)}))}}]),n}(fc),Nc=L((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";O(this,e),this.field=t,this.dir=n}));function Dc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ac=function(){function e(t,n){O(this,e),this.comparator=t,this.root=n||Pc.EMPTY}return L(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Oc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Oc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Oc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Oc(this.root,e,this.comparator,!0)}}]),e}(),Oc=function(){function e(t,n,r,i){O(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return L(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Pc=function(){function e(t,n,r,i,a){O(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return L(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _u();if(this.right.isRed())throw _u();var e=this.left.check();if(e!==this.right.check())throw _u();return e+(this.isRed()?0:1)}}]),e}();Pc.EMPTY=null,Pc.RED=!0,Pc.BLACK=!1,Pc.EMPTY=new(function(){function e(){O(this,e),this.size=0}return L(e,[{key:"key",get:function(){throw _u()}},{key:"value",get:function(){throw _u()}},{key:"color",get:function(){throw _u()}},{key:"left",get:function(){throw _u()}},{key:"right",get:function(){throw _u()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Pc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rc=function(){function e(t){O(this,e),this.comparator=t,this.data=new Ac(this.comparator)}return L(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Lc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Lc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Lc=function(){function e(t){O(this,e),this.iter=t}return L(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fc(e){return e.hasNext()?e.getNext():void 0}var Mc=function(){function e(t){O(this,e),this.fields=t,t.sort($u.comparator)}return L(e,[{key:"unionWith",value:function(t){var n,r=new Rc($u.comparator),i=$(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=$(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=$(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),jc=function(){function e(t){O(this,e),this.value=t}return L(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ec(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}},{key:"setAll",value:function(e){var t=this,n=$u.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=tc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ec(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ts(t,(function(t,n){return e[t]=n}));var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(tc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Vc(e){var t=[];return Ts(e.fields,(function(e,n){var r=new $u([e]);if(ec(n)){var i=Vc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Mc(t)}var Uc=function(){function e(t,n,r,i,a,o,u){O(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return L(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Gu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=jc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=jc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Gu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Gu.min(),Gu.min(),Gu.min(),jc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Gu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Gu.min(),Gu.min(),jc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Gu.min(),Gu.min(),jc.empty(),2)}}]),e}(),Bc=L((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;O(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function zc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bc(e,t,n,r,i,a,o)}function qc(e){var t=Cu(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return yc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ns(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ws(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ws(e)})).join(",")),t.ft=n}return t.ft}function Kc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Dc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!gc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cc(e.startAt,t.startAt)&&cc(e.endAt,t.endAt)}function Hc(e){return Yu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gc(e,t){return e.filters.filter((function(e){return e instanceof fc&&e.field.isEqual(t)}))}function Wc(e,t,n){var r,i=Bs,a=!0,o=$(Gc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Bs,c=!0;switch(u.op){case"<":case"<=":s=rc(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Bs}ac({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ac({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Qc(e,t,n){var r,i=Us,a=!0,o=$(Gc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Us,c=!0;switch(u.op){case">=":case">":s=ic(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Us}oc({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];oc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Zc=L((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;O(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function $c(e,t,n,r,i,a,o,u){return new Zc(e,t,n,r,i,a,o,u)}function Yc(e){return new Zc(e)}function Xc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Jc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function el(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function tl(e){return null!==e.collectionGroup}function nl(e){var t=Cu(e);if(null===t.dt){t.dt=[];var n=el(t),r=Jc(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Nc(n)),t.dt.push(new Nc($u.keyField(),"asc"));else{var i,a=!1,o=$(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Nc($u.keyField(),s))}}}return t.dt}function rl(e){var t=Cu(e);if(!t._t)if("F"===t.limitType)t._t=zc(t.path,t.collectionGroup,nl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$(nl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Nc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new uc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new uc(t.startAt.position,t.startAt.inclusive):null;t._t=zc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function il(e,t){t.getFirstInequalityField(),el(e);var n=e.filters.concat([t]);return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function al(e,t,n){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ol(e,t){return Kc(rl(e),rl(t))&&e.limitType===t.limitType}function ul(e){return"".concat(qc(rl(e)),"|lt:").concat(e.limitType)}function sl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return kc(e)})).join(", "),"]")),Ns(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ws(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ws(e)})).join(",")),"Target(".concat(t,")")}(rl(e)),"; limitType=").concat(e.limitType,")")}function cl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$(nl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=sc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nl(e),t))&&!(e.endAt&&!function(e,t,n){var r=sc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nl(e),t))}(e,t)}function ll(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fl(e){return function(t,n){var r,i=!1,a=$(nl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=hl(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function hl(e,t,n){var r=e.field.isKeyField()?Yu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hs(r,i):_u()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _u()}}function dl(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ds(t)?"-0":t}}function vl(e){return{integerValue:""+e}}function pl(e,t){return As(t)?vl(t):dl(e,t)}var ml=L((function e(){O(this,e),this._=void 0}));function yl(e,t,n){return e instanceof kl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wl?xl(e,t):e instanceof El?Sl(e,t):function(e,t){var n=bl(e,t),r=_l(n)+_l(e.gt);return $s(n)&&$s(e.gt)?vl(r):dl(e.yt,r)}(e,t)}function gl(e,t,n){return e instanceof wl?xl(e,t):e instanceof El?Sl(e,t):n}function bl(e,t){return e instanceof Il?$s(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var kl=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n)}(ml),wl=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).elements=e,r}return L(n)}(ml);function xl(e,t){var n,r=Tl(t),i=$(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var El=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).elements=e,r}return L(n)}(ml);function Sl(e,t){var n,r=Tl(t),i=$(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Il=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return L(n)}(ml);function _l(e){return Ls(e.integerValue||e.doubleValue)}function Tl(e){return Ys(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cl=L((function e(t,n){O(this,e),this.field=t,this.transform=n}));var Nl=L((function e(t,n){O(this,e),this.version=t,this.transformResults=n})),Dl=function(){function e(t,n){O(this,e),this.updateTime=t,this.exists=n}return L(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Al(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ol=L((function e(){O(this,e)}));function Pl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Hl(e.key,Dl.none()):new jl(e.key,e.data,Dl.none());var n,r=e.data,i=jc.empty(),a=new Rc($u.comparator),o=$(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Vl(e.key,i,new Mc(a.toArray()),Dl.none())}function Rl(e,t,n){e instanceof jl?function(e,t,n){var r=e.value.clone(),i=Bl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vl?function(e,t,n){if(Al(e.precondition,t)){var r=Bl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ul(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ll(e,t,n,r){return e instanceof jl?function(e,t,n,r){if(!Al(e.precondition,t))return n;var i=e.value.clone(),a=zl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vl?function(e,t,n,r){if(!Al(e.precondition,t))return n;var i=zl(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ul(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Al(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fl(e,t){var n,r=null,i=$(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=bl(a.transform,o||null);null!=u&&(null===r&&(r=jc.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ml(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wl&&t instanceof wl||e instanceof El&&t instanceof El?qu(e.elements,t.elements,qs):e instanceof Il&&t instanceof Il?qs(e.gt,t.gt):e instanceof kl&&t instanceof kl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var jl=function(e){M(n,e);var t=K(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return O(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return L(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ol),Vl=function(e){M(n,e);var t=K(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return O(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return L(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ol);function Ul(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bl(e,t,n){var r=new Map;Tu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,gl(o,u,n[i]))}return r}function zl(e,t,n){var r,i=new Map,a=$(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,yl(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ql,Kl,Hl=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return L(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ol),Gl=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return L(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ol),Wl=L((function e(t){O(this,e),this.count=t}));function Ql(e){switch(e){default:return _u();case Nu.CANCELLED:case Nu.UNKNOWN:case Nu.DEADLINE_EXCEEDED:case Nu.RESOURCE_EXHAUSTED:case Nu.INTERNAL:case Nu.UNAVAILABLE:case Nu.UNAUTHENTICATED:return!1;case Nu.INVALID_ARGUMENT:case Nu.NOT_FOUND:case Nu.ALREADY_EXISTS:case Nu.PERMISSION_DENIED:case Nu.FAILED_PRECONDITION:case Nu.ABORTED:case Nu.OUT_OF_RANGE:case Nu.UNIMPLEMENTED:case Nu.DATA_LOSS:return!0}}function Zl(e){if(void 0===e)return Eu("GRPC error has no .code"),Nu.UNKNOWN;switch(e){case ql.OK:return Nu.OK;case ql.CANCELLED:return Nu.CANCELLED;case ql.UNKNOWN:return Nu.UNKNOWN;case ql.DEADLINE_EXCEEDED:return Nu.DEADLINE_EXCEEDED;case ql.RESOURCE_EXHAUSTED:return Nu.RESOURCE_EXHAUSTED;case ql.INTERNAL:return Nu.INTERNAL;case ql.UNAVAILABLE:return Nu.UNAVAILABLE;case ql.UNAUTHENTICATED:return Nu.UNAUTHENTICATED;case ql.INVALID_ARGUMENT:return Nu.INVALID_ARGUMENT;case ql.NOT_FOUND:return Nu.NOT_FOUND;case ql.ALREADY_EXISTS:return Nu.ALREADY_EXISTS;case ql.PERMISSION_DENIED:return Nu.PERMISSION_DENIED;case ql.FAILED_PRECONDITION:return Nu.FAILED_PRECONDITION;case ql.ABORTED:return Nu.ABORTED;case ql.OUT_OF_RANGE:return Nu.OUT_OF_RANGE;case ql.UNIMPLEMENTED:return Nu.UNIMPLEMENTED;case ql.DATA_LOSS:return Nu.DATA_LOSS;default:return _u()}}(Kl=ql||(ql={}))[Kl.OK=0]="OK",Kl[Kl.CANCELLED=1]="CANCELLED",Kl[Kl.UNKNOWN=2]="UNKNOWN",Kl[Kl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kl[Kl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kl[Kl.NOT_FOUND=5]="NOT_FOUND",Kl[Kl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kl[Kl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kl[Kl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kl[Kl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kl[Kl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kl[Kl.ABORTED=10]="ABORTED",Kl[Kl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kl[Kl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kl[Kl.INTERNAL=13]="INTERNAL",Kl[Kl.UNAVAILABLE=14]="UNAVAILABLE",Kl[Kl.DATA_LOSS=15]="DATA_LOSS";var $l=function(){function e(t,n){O(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return L(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=W(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ts(this.inner,(function(t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=W(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cs(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Yl=new Ac(Yu.comparator);function Xl(){return Yl}var Jl=new Ac(Yu.comparator);function ef(){for(var e=Jl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tf(e){var t=Jl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nf(){return af()}function rf(){return af()}function af(){return new $l((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var of=new Ac(Yu.comparator),uf=new Rc(Yu.comparator);function sf(){for(var e=uf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cf=new Rc(zu);function lf(){return cf}var ff=function(){function e(t,n,r,i,a){O(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return L(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,hf.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Gu.min(),i,lf(),Xl(),sf())}}]),e}(),hf=function(){function e(t,n,r,i,a){O(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return L(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sf(),sf(),sf())}}]),e}(),df=L((function e(t,n,r,i){O(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),vf=L((function e(t,n){O(this,e),this.targetId=t,this.Et=n})),pf=L((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Os.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;O(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),mf=function(){function e(){O(this,e),this.At=0,this.Rt=bf(),this.bt=Os.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return L(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=sf(),t=sf(),n=sf();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_u()}})),new hf(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=bf()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),yf=function(){function e(t){O(this,e),this.$t=t,this.Bt=new Map,this.Lt=Xl(),this.qt=gf(),this.Ut=new Rc(zu)}return L(e,[{key:"Kt",value:function(e){var t,n=$(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=$(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:_u()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Hc(i))if(0===n){var a=new Yu(i.path);this.Qt(t,a,Uc.newNoDocument(a,Gu.min()))}else Tu(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Hc(a.target)){var o=new Yu(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Uc.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=sf();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new ff(e,n,this.Ut,this.Lt,r);return this.Lt=Xl(),this.qt=gf(),this.Ut=new Rc(zu),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new mf,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Rc(zu),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||xu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new mf),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function gf(){return new Ac(Yu.comparator)}function bf(){return new Ac(Yu.comparator)}var kf={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xf={and:"AND",or:"OR"},Ef=L((function e(t,n){O(this,e),this.databaseId=t,this.wt=n}));function Sf(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function If(e,t){return e.wt?t.toBase64():t.toUint8Array()}function _f(e,t){return Sf(e,t.toTimestamp())}function Tf(e){return Tu(!!e),Gu.fromTimestamp(function(e){var t=Rs(e);return new Hu(t.seconds,t.nanos)}(e))}function Cf(e,t){return function(e){return new Qu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Nf(e){var t=Qu.fromString(e);return Tu(Xf(t)),t}function Df(e,t){return Cf(e.databaseId,t.path)}function Af(e,t){var n=Nf(t);if(n.get(1)!==e.databaseId.projectId)throw new Du(Nu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Du(Nu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yu(Lf(n))}function Of(e,t){return Cf(e.databaseId,t)}function Pf(e){var t=Nf(e);return 4===t.length?Qu.emptyPath():Lf(t)}function Rf(e){return new Qu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lf(e){return Tu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ff(e,t,n){return{name:Df(e,t),fields:n.value.mapValue.fields}}function Mf(e,t,n){var r=Af(e,t.name),i=Tf(t.updateTime),a=t.createTime?Tf(t.createTime):Gu.min(),o=new jc({mapValue:{fields:t.fields}}),u=Uc.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function jf(e,t){return"found"in t?function(e,t){Tu(!!t.found),t.found.name,t.found.updateTime;var n=Af(e,t.found.name),r=Tf(t.found.updateTime),i=t.found.createTime?Tf(t.found.createTime):Gu.min(),a=new jc({mapValue:{fields:t.found.fields}});return Uc.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Tu(!!t.missing),Tu(!!t.readTime);var n=Af(e,t.missing),r=Tf(t.readTime);return Uc.newNoDocument(n,r)}(e,t):_u()}function Vf(e,t){var n;if(t instanceof jl)n={update:Ff(e,t.key,t.value)};else if(t instanceof Hl)n={delete:Df(e,t.key)};else if(t instanceof Vl)n={update:Ff(e,t.key,t.data),updateMask:Yf(t.fieldMask)};else{if(!(t instanceof Gl))return _u();n={verify:Df(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof kl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof El)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Il)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw _u()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_f(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_u()}(e,t.precondition)),n}function Uf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Dl.updateTime(Tf(e.updateTime)):void 0!==e.exists?Dl.exists(e.exists):Dl.none()}(t.currentDocument):Dl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Tu("REQUEST_TIME"===t.setToServerValue),n=new kl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new El(i)}else"increment"in t?n=new Il(e,t.increment):_u();var a=$u.fromServerFormat(t.fieldPath);return new Cl(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Af(e,t.update.name),a=new jc({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Mc(t.map((function(e){return $u.fromServerFormat(e)})))}(t.updateMask);return new Vl(i,a,o,n,r)}return new jl(i,a,n,r)}if(t.delete){var u=Af(e,t.delete);return new Hl(u,n)}if(t.verify){var s=Af(e,t.verify);return new Gl(s,n)}return _u()}function Bf(e,t){return{documents:[Of(e,t.path)]}}function zf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Of(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Of(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return $f(hc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Qf(e.field),direction:Hf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Ns(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qf(e){var t=Pf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Kf(e);return t instanceof hc&&pc(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Nc(Zf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ns(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new uc(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new uc(n,t)}(n.endAt)),$c(t,i,u,o,s,"F",c,l)}function Kf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zf(e.unaryFilter.field);return fc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zf(e.unaryFilter.field);return fc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zf(e.unaryFilter.field);return fc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zf(e.unaryFilter.field);return fc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _u()}}(e):void 0!==e.fieldFilter?function(e){return fc.create(Zf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _u()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hc.create(e.compositeFilter.filters.map((function(e){return Kf(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _u()}}(e.compositeFilter.op))}(e):_u()}function Hf(e){return kf[e]}function Gf(e){return wf[e]}function Wf(e){return xf[e]}function Qf(e){return{fieldPath:e.canonicalString()}}function Zf(e){return $u.fromServerFormat(e.fieldPath)}function $f(e){return e instanceof fc?function(e){if("=="===e.op){if(Js(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NAN"}};if(Xs(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Js(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NOT_NAN"}};if(Xs(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qf(e.field),op:Gf(e.op),value:e.value}}}(e):e instanceof hc?function(e){var t=e.getFilters().map((function(e){return $f(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Wf(e.op),filters:t}}}(e):_u()}function Yf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Jf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=th(t)),t=eh(e.get(n),t);return th(t)}function eh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function th(e){return e+"\x01\x01"}function nh(e){var t=e.length;if(Tu(t>=2),2===t)return Tu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qu.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&_u(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:_u()}a=o+2}return new Qu(r)}var rh=["userId","batchId"];function ih(e,t){return[e,Jf(t)]}function ah(e,t,n){return[e,Jf(t),n]}var oh={},uh=["prefixPath","collectionGroup","readTime","documentId"],sh=["prefixPath","collectionGroup","documentId"],ch=["collectionGroup","readTime","prefixPath","documentId"],lh=["canonicalId","targetId"],fh=["targetId","path"],hh=["path","targetId"],dh=["collectionId","parent"],vh=["indexId","uid"],ph=["uid","sequenceNumber"],mh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yh=["indexId","uid","orderedDocumentKey"],gh=["userId","collectionPath","documentId"],bh=["userId","collectionPath","largestBatchId"],kh=["userId","collectionGroup","largestBatchId"],wh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),xh=[].concat(A(wh),["documentOverlays"]),Eh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sh=Eh,Ih=[].concat(Sh,["indexConfiguration","indexState","indexEntries"]),_h=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return L(n)}(ss);function Th(e,t){var n=Cu(e);return ds.M(n.se,t)}var Ch=function(){function e(t,n,r,i){O(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return L(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Rl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=$(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=$(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ll(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Pl(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Gu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qu(this.mutations,e.mutations,(function(e,t){return Ml(e,t)}))&&qu(this.baseMutations,e.baseMutations,(function(e,t){return Ml(e,t)}))}}]),e}(),Nh=function(){function e(t,n,r,i){O(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return L(e,null,[{key:"from",value:function(t,n,r){Tu(t.mutations.length===r.length);for(var i=of,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Dh=function(){function e(t,n){O(this,e),this.largestBatchId=t,this.mutation=n}return L(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ah=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Os.EMPTY_BYTE_STRING;O(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return L(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Oh=L((function e(t){O(this,e),this.ie=t}));function Ph(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Df(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Sf(e,t.version.toTimestamp()),createTime:Sf(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Lh(t.version)};else{if(!t.isUnknownDocument())return _u();r.unknownDocument={path:n.path.toArray(),version:Lh(t.version)}}return r}function Rh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Lh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Fh(e){var t=new Hu(e.seconds,e.nanoseconds);return Gu.fromTimestamp(t)}function Mh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Uf(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Uf(e.ie,t)})),u=Hu.fromMillis(t.localWriteTimeMs);return new Ch(t.batchId,u,n,o)}function jh(e){var t,n,r=Fh(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Fh(e.lastLimboFreeSnapshotVersion):Gu.min();return void 0!==e.query.documents?(Tu(1===(n=e.query).documents.length),t=rl(Yc(Pf(n.documents[0])))):t=function(e){return rl(qf(e))}(e.query),new Ah(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Os.fromBase64String(e.resumeToken))}function Vh(e,t){var n,r=Lh(t.snapshotVersion),i=Lh(t.lastLimboFreeSnapshotVersion);n=Hc(t.target)?Bf(e.ie,t.target):zf(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qc(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Uh(e){var t=qf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?al(t,t.limit,"L"):t}function Bh(e,t){return new Dh(t.largestBatchId,Uf(e.ie,t.overlayMutation))}function zh(e,t){var n=t.path.lastSegment();return[e,Jf(t.path.popLast()),n]}function qh(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Lh(r.readTime),documentKey:Jf(r.documentKey.path),largestBatchId:r.largestBatchId}}var Kh=function(){function e(){O(this,e)}return L(e,[{key:"getBundleMetadata",value:function(e,t){return Hh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Fh(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Hh(e).put({bundleId:(n=t).id,createTime:Lh(Tf(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Gh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Uh(t.bundledQuery),readTime:Fh(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Gh(e).put(function(e){return{name:e.name,readTime:Lh(Tf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Hh(e){return Th(e,"bundles")}function Gh(e){return Th(e,"namedQueries")}var Wh=function(){function e(t,n){O(this,e),this.yt=t,this.userId=n}return L(e,[{key:"getOverlay",value:function(e,t){var n=this;return Qh(e).get(zh(this.userId,t)).next((function(e){return e?Bh(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=nf();return fs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Dh(t,a);i.push(r.oe(e,o))})),fs.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Jf(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Qh(e).Y("collectionPathOverlayIndex",i))})),fs.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=nf(),a=Jf(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Qh(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Bh(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=nf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qh(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Bh(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Qh(e).put(function(e,t,n){var r=W(zh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Vf(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Qh(e){return Th(e,"documentOverlays")}var Zh=function(){function e(){O(this,e)}return L(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ls(e.integerValue));else if("doubleValue"in e){var n=Ls(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Ds(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Fs(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?nc(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):_u()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Yu.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function $h(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=$h(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zh.Ie=new Zh;var Xh=function(){function e(){O(this,e),this.buffer=new Uint8Array(1024),this.position=0}return L(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Yh(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Yh(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Jh=function(){function e(t){O(this,e),this.$e=t}return L(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),ed=function(){function e(t){O(this,e),this.$e=t}return L(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),td=function(){function e(){O(this,e),this.$e=new Xh,this.Be=new Jh(this.$e),this.Le=new ed(this.$e)}return L(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),nd=function(){function e(t,n,r,i){O(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return L(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function rd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=id(e.arrayValue,t.arrayValue))?n:0!==(n=id(e.directionalValue,t.directionalValue))?n:Yu.comparator(e.documentKey,t.documentKey)}function id(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ad=function(){function e(t){O(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=$(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return L(e,[{key:"je",value:function(e){Tu(e.collectionGroup===this.collectionId);var t=Ju(e);if(void 0!==t&&!this.We(t))return!1;for(var n=es(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=$(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function od(e){var t,n;if(Tu(e instanceof fc||e instanceof hc),e instanceof fc){if(e instanceof _c){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return fc.create(e.field,"==",t)})))||[];return hc.create(r,"or")}return e}var i=e.filters.map((function(e){return od(e)}));return hc.create(i,e.op)}function ud(e){if(0===e.getFilters().length)return[];var t=fd(od(e));return Tu(ld(t)),sd(t)||cd(t)?[t]:t.getFilters()}function sd(e){return e instanceof fc}function cd(e){return e instanceof hc&&pc(e)}function ld(e){return sd(e)||cd(e)||function(e){if(e instanceof hc&&vc(e)){var t,n=$(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!sd(r)&&!cd(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function fd(e){if(Tu(e instanceof fc||e instanceof hc),e instanceof fc)return e;if(1===e.filters.length)return fd(e.filters[0]);var t=e.filters.map((function(e){return fd(e)})),n=hc.create(t,e.op);return ld(n=vd(n))?n:(Tu(n instanceof hc),Tu(dc(n)),Tu(n.filters.length>1),n.filters.reduce((function(e,t){return hd(e,t)})))}function hd(e,t){var n;return Tu(e instanceof fc||e instanceof hc),Tu(t instanceof fc||t instanceof hc),n=e instanceof fc?t instanceof fc?function(e,t){return hc.create([e,t],"and")}(e,t):dd(e,t):t instanceof fc?dd(t,e):function(e,t){if(Tu(e.filters.length>0&&t.filters.length>0),dc(e)&&dc(t))return bc(e,t.getFilters());var n=vc(e)?e:t,r=vc(e)?t:e,i=n.filters.map((function(e){return hd(e,r)}));return hc.create(i,"or")}(e,t),vd(n)}function dd(e,t){if(dc(t))return bc(t,e.getFilters());var n=t.filters.map((function(t){return hd(e,t)}));return hc.create(n,"or")}function vd(e){if(Tu(e instanceof fc||e instanceof hc),e instanceof fc)return e;var t=e.getFilters();if(1===t.length)return vd(t[0]);if(mc(e))return e;var n=t.map((function(e){return vd(e)})),r=[];return n.forEach((function(t){t instanceof fc?r.push(t):t instanceof hc&&(t.op===e.op?r.push.apply(r,A(t.filters)):r.push(t))})),1===r.length?r[0]:hc.create(r,e.op)}var pd=function(){function e(){O(this,e),this.Je=new md}return L(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),fs.resolve()}},{key:"getCollectionParents",value:function(e,t){return fs.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fs.resolve(null)}},{key:"getIndexType",value:function(e,t){return fs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fs.resolve(as.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fs.resolve(as.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fs.resolve()}}]),e}(),md=function(){function e(){O(this,e),this.index={}}return L(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rc(Qu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rc(Qu.comparator)).toArray()}}]),e}(),yd=new Uint8Array(0),gd=function(){function e(t,n){O(this,e),this.user=t,this.databaseId=n,this.Ye=new md,this.Xe=new $l((function(e){return qc(e)}),(function(e,t){return Kc(e,t)})),this.uid=t.uid||""}return L(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Jf(i)};return bd(e).put(a)}return fs.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ku(t),""],!1,!0);return bd(e).W(r).next((function(e){var r,i=$(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(nh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=wd(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=xd(e);return a.next((function(e){o.put(qh(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=wd(e),r=xd(e),i=kd(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=kd(e),i=!0,a=new Map;return fs.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sf(),o=[];return fs.forEach(a,(function(i,a){var u;xu("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(qc(t)));var s=function(e,t){var n=Ju(t);if(void 0===n)return null;var r,i=$(Gc(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=$(es(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=$(Gc(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=$(es(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Wc(e,o.fieldPath,e.startAt):Qc(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new uc(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=$(es(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qc(e,o.fieldPath,e.endAt):Wc(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new uc(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),v=n.nn(i,a,c),p=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,v);return fs.forEach(p,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Yu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return fs.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:ud(hc.create(e.filters,"and")).map((function(t){return zc(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):yd,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),v=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,A(u.createRange(f,d,v)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new nd(e,Yu.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new nd(e,Yu.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new ad(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=$(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return fs.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Rc($u.comparator),r=!1,i=$(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=$(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=$(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new td,i=$(es(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Zh.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new td;return Zh.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new td;return Zh.Ie.ue(Zs(this.databaseId,t),n.qe(function(e){var t=es(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new td);var i,a=0,o=$(es(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=$(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Ys(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Zh.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=A(e),a=[],o=$(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=$(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new td;f.seed(l.Fe()),Zh.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof fc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=wd(e),i=xd(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return fs.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ns(t.sequenceNumber,new as(Fh(t.readTime),new Yu(nh(t.documentKey)),t.largestBatchId)):ns.empty(),r=e.fields.map((function(e){var t=W(e,2),n=t[0],r=t[1];return new ts($u.fromServerFormat(n),r)}));return new Xu(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=wd(e),a=xd(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fs.forEach(t,(function(t){return a.put(qh(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fs.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fs.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fs.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?fs.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return kd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return kd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=kd(e),i=new Rc(rd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new nd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Rc(rd),r=this.cn(t,e);if(null==r)return n;var i=Ju(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ys(a)){var o,u=$(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new nd(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new nd(t.indexId,e.key,yd,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;xu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fc(a),s=Fc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fc(o)):l?(i(u),u=Fc(a)):(u=Fc(a),s=Fc(o))}}(r,i,rd,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),fs.waitFor(o)}},{key:"dn",value:function(e){var t=1;return xd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return rd(e,t)})).filter((function(e,t,n){return!t||0!==rd(e,n[t-1])}));var r=[];r.push(e);var i,a=$(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=rd(o,e),s=rd(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,yd,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,yd,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return rd(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ed)}},{key:"getMinOffset",value:function(e,t){var n=this;return fs.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||_u()}))})).next(Ed)}}]),e}();function bd(e){return Th(e,"collectionParents")}function kd(e){return Th(e,"indexEntries")}function wd(e){return Th(e,"indexConfiguration")}function xd(e){return Th(e,"indexState")}function Ed(e){Tu(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;os(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new as(t.readTime,t.documentKey,n)}var Sd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Id=function(){function e(t,n,r){O(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return L(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function _d(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Tu(1===u)})));var c,l=[],f=$(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ah(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return fs.waitFor(a).next((function(){return l}))}function Td(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _u();t=e.noDocument}return JSON.stringify(t).length}Id.DEFAULT_COLLECTION_PERCENTILE=10,Id.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Id.DEFAULT=new Id(41943040,Id.DEFAULT_COLLECTION_PERCENTILE,Id.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Id.DISABLED=new Id(-1,0,0);var Cd=function(){function e(t,n,r,i){O(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return L(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dd(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ad(e),o=Dd(e);return o.add({}).next((function(u){Tu("number"==typeof u);var s,c=new Ch(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Vf(e.ie,t)})),i=n.mutations.map((function(t){return Vf(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Rc((function(e,t){return zu(e.canonicalString(),t.canonicalString())})),d=$(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=ah(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,oh))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),fs.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Dd(e).get(t).next((function(e){return e?(Tu(e.userId===n.userId),Mh(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?fs.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Dd(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Tu(t.batchId>=r),a=Mh(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dd(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Mh(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ih(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ad(e).Z({range:i},(function(r,i,o){var u=W(r,3),s=u[0],c=u[1],l=u[2],f=nh(c);if(s===n.userId&&t.path.isEqual(f))return Dd(e).get(l).next((function(e){if(!e)throw _u();Tu(e.userId===n.userId),a.push(Mh(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rc(zu),i=[];return t.forEach((function(t){var a=ih(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ad(e).Z({range:o},(function(e,i,a){var o=W(e,3),u=o[0],s=o[1],c=o[2],l=nh(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),fs.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ih(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Rc(zu);return Ad(e).Z({range:o},(function(e,t,a){var o=W(e,3),s=o[0],c=o[1],l=o[2],f=nh(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Dd(e).get(t).next((function(e){if(null===e)throw _u();Tu(e.userId===n.userId),r.push(Mh(n.yt,e))})))})),fs.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return _d(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),fs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fs.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ad(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=nh(e[1]);i.push(a)}else r.done()})).next((function(){Tu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Nd(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Od(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Tu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Nd(e,t,n){var r=ih(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ad(e).Z({range:a,X:!0},(function(e,n,r){var a=W(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Dd(e){return Th(e,"mutations")}function Ad(e){return Th(e,"documentMutations")}function Od(e){return Th(e,"mutationQueues")}var Pd=function(){function e(t){O(this,e),this.bn=t}return L(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Rd=function(){function e(t,n){O(this,e),this.referenceDelegate=t,this.yt=n}return L(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Pd(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Gu.fromTimestamp(new Hu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ld(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Tu(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ld(e).Z((function(o,u){var s=jh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return fs.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ld(e).Z((function(e,n){var r=jh(n);t(r)}))}},{key:"Vn",value:function(e){return Fd(e).get("targetGlobalKey").next((function(e){return Tu(null!==e),e}))}},{key:"Sn",value:function(e,t){return Fd(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Ld(e).put(Vh(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ld(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=jh(n);Kc(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Md(e);return t.forEach((function(t){var o=Jf(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fs.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Md(e);return fs.forEach(t,(function(t){var a=Jf(t.path);return fs.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Md(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Md(e),i=sf();return r.Z({range:n,X:!0},(function(e,t,n){var r=nh(e[1]),a=new Yu(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jf(t.path),r=IDBKeyRange.bound([n],[Ku(n)],!1,!0),i=0;return Md(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=W(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Ld(e).get(t).next((function(e){return e?jh(e):null}))}}]),e}();function Ld(e){return Th(e,"targets")}function Fd(e){return Th(e,"targetGlobal")}function Md(e){return Th(e,"targetDocuments")}function jd(e,t){var n=W(e,2),r=n[0],i=n[1],a=W(t,2),o=a[0],u=a[1],s=zu(r,o);return 0===s?zu(i,u):s}var Vd=function(){function e(t){O(this,e),this.xn=t,this.buffer=new Rc(jd),this.Nn=0}return L(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();jd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ud=function(){function e(t,n,r){O(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return L(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;xu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ms(e.t0)){e.next=12;break}xu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,cs(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Bd=function(){function e(t,n){O(this,e),this.$n=t,this.params=n}return L(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fs.resolve(Es.at);var r=new Vd(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xu("LruGarbageCollector","Garbage collection skipped; disabled"),fs.resolve(Sd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(xu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Sd):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(xu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),wu()<=zt.DEBUG&&xu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),fs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),zd=function(){function e(t,n){O(this,e),this.db=t,this.garbageCollector=function(e,t){return new Bd(e,t)}(this,n)}return L(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return qd(e,n)}},{key:"removeReference",value:function(e,t,n){return qd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return qd(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Od(e).tt((function(r){return Nd(e,r,t).next((function(e){return e&&(n=!0),fs.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Gu.min()),Md(e).delete([0,Jf(o.path)])}))}));i.push(s)}})).next((function(){return fs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return qd(e,t)}},{key:"Kn",value:function(e,t){var n,r=Md(e),i=Es.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=W(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Es.at&&t(new Yu(nh(n)),i),i=s,n=u):i=Es.at})).next((function(){i!==Es.at&&t(new Yu(nh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function qd(e,t){return Md(e).put(function(e,t){return{targetId:0,path:Jf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Kd=function(){function e(){O(this,e),this.changes=new $l((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return L(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Uc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Hd=function(){function e(t){O(this,e),this.yt=t}return L(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Zd(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Zd(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Rh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Uc.newInvalidDocument(t);return Zd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($d(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Uc.newInvalidDocument(t)};return Zd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($d(t))},(function(e,i){r={document:n.jn(t,i),size:Td(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Xl();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Xl(),i=new Ac(Yu.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Td(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return fs.resolve();var r=new Rc(Xd);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound($d(r.first()),$d(r.last())),a=r.getIterator(),o=a.getNext();return Zd(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Yu.fromSegments([].concat(A(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Xd(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j($d(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Rh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zd(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Xl(),i=$(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Yu.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Xl(),o=Yd(t,n),u=Yd(t,as.max());return Zd(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Yu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Wd(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Qd(e).get("remoteDocumentGlobalKey").next((function(e){return Tu(!!e),e}))}},{key:"Qn",value:function(e,t){return Qd(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Mf(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yu.fromSegments(t.noDocument.path),i=Fh(t.noDocument.readTime);n=Uc.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _u();var a=Yu.fromSegments(t.unknownDocument.path),o=Fh(t.unknownDocument.version);n=Uc.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Hu(e[0],e[1]);return Gu.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Gu.min()))return n}return Uc.newInvalidDocument(e)}}]),e}();function Gd(e){return new Hd(e)}var Wd=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new $l((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return L(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rc((function(e,t){return zu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ph(t.Yn.yt,o);i=i.add(a.path.popLast());var c=Td(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ph(t.Yn.yt,o.convertToNoDocument(Gu.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),fs.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Kd);function Qd(e){return Th(e,"remoteDocumentGlobal")}function Zd(e){return Th(e,"remoteDocumentsV14")}function $d(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Yd(e,t){var n=t.documentKey.path.toArray();return[e,Rh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Xd(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=zu(n[a],r[a]))return i;return(i=zu(n.length,r.length))||((i=zu(n[n.length-2],r[r.length-2]))||zu(n[n.length-1],r[r.length-1]))}var Jd=L((function e(t,n){O(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ev=function(){function e(t,n,r,i){O(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return L(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ll(r.mutation,e,Mc.empty(),Hu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sf(),i=nf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ef();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Xl(),a=af(),o=af();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Vl)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ll(o.mutation,t,o.mutation.getFieldMask(),Hu.now())):a.set(t.key,Mc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Jd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=af(),i=new Ac((function(e,t){return e-t})),a=sf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=$(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Mc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||sf()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=rf();c.forEach((function(e){if(!a.has(e)){var n=Pl(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return fs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Yu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fs.resolve(nf()),u=-1,s=a;return o.next((function(t){return fs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?fs.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,sf())})).next((function(e){return{batchId:u,changes:tf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Yu(t)).next((function(e){var t=ef();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ef();return this.indexManager.getCollectionParents(e,i).next((function(o){return fs.forEach(o,(function(o){var u=function(e,t){return new Zc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Uc.newInvalidDocument(n)))}));var n=ef();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Ll(a.mutation,i,Mc.empty(),Hu.now()),cl(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),tv=function(){function e(t){O(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return L(e,[{key:"getBundleMetadata",value:function(e,t){return fs.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Tf(n.createTime)}),fs.resolve()}},{key:"getNamedQuery",value:function(e,t){return fs.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Uh(e.bundledQuery),readTime:Tf(e.readTime)}}(t)),fs.resolve()}}]),e}(),nv=function(){function e(){O(this,e),this.overlays=new Ac(Yu.comparator),this.es=new Map}return L(e,[{key:"getOverlay",value:function(e,t){return fs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nf();return fs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),fs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),fs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nf(),i=t.length+1,a=new Yu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ac((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=nf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=nf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fs.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Dh(t,n));var a=this.es.get(t);void 0===a&&(a=sf(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),rv=function(){function e(){O(this,e),this.ns=new Rc(iv.ss),this.rs=new Rc(iv.os)}return L(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new iv(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new iv(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Yu(new Qu([])),r=new iv(n,e),i=new iv(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Yu(new Qu([])),n=new iv(t,e),r=new iv(t,e+1),i=sf();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new iv(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),iv=function(){function e(t,n){O(this,e),this.key=t,this._s=n}return L(e,null,[{key:"ss",value:function(e,t){return Yu.comparator(e.key,t.key)||zu(e._s,t._s)}},{key:"os",value:function(e,t){return zu(e._s,t._s)||Yu.comparator(e.key,t.key)}}]),e}(),av=function(){function e(t,n){O(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Rc(iv.ss)}return L(e,[{key:"checkEmpty",value:function(e){return fs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ch(i,t,n,r);this.mutationQueue.push(a);var o,u=$(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new iv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return fs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fs.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return fs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fs.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new iv(t,0),i=new iv(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),fs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rc(zu);return t.forEach((function(e){var t=new iv(e,0),i=new iv(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),fs.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yu.isDocumentKey(i)||(i=i.child(""));var a=new iv(new Yu(i),0),o=new Rc(zu);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),fs.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Tu(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return fs.forEach(t.mutations,(function(i){var a=new iv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new iv(t,0),r=this.gs.firstAfterOrEqual(n);return fs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fs.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ov=function(){function e(t){O(this,e),this.Es=t,this.docs=new Ac(Yu.comparator),this.size=0}return L(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fs.resolve(n?n.document.mutableCopy():Uc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Xl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Uc.newInvalidDocument(e))})),fs.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Xl(),i=new Yu(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||os(is(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return fs.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){_u()}},{key:"As",value:function(e,t){return fs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new uv(this)}},{key:"getSize",value:function(e){return fs.resolve(this.size)}}]),e}(),uv=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).Yn=e,r}return L(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),fs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Kd),sv=function(){function e(t){O(this,e),this.persistence=t,this.Rs=new $l((function(e){return qc(e)}),Kc),this.lastRemoteSnapshotVersion=Gu.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rv,this.targetCount=0,this.vs=Pd.Pn()}return L(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),fs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fs.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),fs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),fs.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Pd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,fs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),fs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,fs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return fs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),fs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),fs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return fs.resolve(n)}},{key:"containsKey",value:function(e,t){return fs.resolve(this.Ps.containsKey(t))}}]),e}(),cv=function(){function e(t,n){var r=this;O(this,e),this.Vs={},this.overlays={},this.Ss=new Es(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new sv(this),this.indexManager=new pd,this.remoteDocumentCache=new ov((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Oh(n),this.Ns=new tv(this.yt)}return L(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new av(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;xu("MemoryPersistence","Starting transaction:",e);var i=new lv(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return fs.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),lv=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return L(n)}(ss),fv=function(){function e(t){O(this,e),this.persistence=t,this.Fs=new rv,this.$s=null}return L(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw _u()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),fs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),fs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),fs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fs.forEach(this.Ls,(function(r){var i=Yu.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Gu.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return fs.or([function(){return fs.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),hv=function(){function e(t){O(this,e),this.yt=t}return L(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new hs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rh,{unique:!0}),e.createObjectStore("documentMutations")}(e),dv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),dv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gu.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fs.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:gh});t.createIndex("collectionPathOverlayIndex",bh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",kh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:uh});t.createIndex("documentKeyIndex",sh),t.createIndex("collectionGroupIndex",ch)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:vh}).createIndex("sequenceNumberIndex",ph,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:mh}).createIndex("documentKeyIndex",yh,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Td(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return fs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return fs.forEach(r,(function(r){Tu(r.userId===n.userId);var i=Mh(t.yt,r);return _d(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Qu(n),o=function(e){return[0,Jf(e)]}(a);r.push(t.get(o).next((function(n){return n?fs.resolve():function(n){return t.put({targetId:0,path:Jf(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fs.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:dh});var n=t.store("collectionParents"),r=new md,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jf(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Qu(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=W(e,3),r=(n[0],n[1]),a=(n[2],nh(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=jh(r),a=Vh(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Yu(Qu.fromString(i.document.name).popFirst(5)):i.noDocument?Yu.fromSegments(i.noDocument.path):i.unknownDocument?Yu.fromSegments(i.unknownDocument.path):_u()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return fs.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Gd(this.yt),a=new cv(fv.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sf();Mh(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),fs.forEach(r,(function(e,r){var o=new gu(r),u=Wh.re(n.yt,o),s=a.getIndexManager(o),c=Cd.re(o,n.yt,s,a.referenceDelegate);return new ev(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new _h(t,Es.at),e).next()}))}))}}]),e}();function dv(e){e.createObjectStore("targetDocuments",{keyPath:fh}).createIndex("documentTargetsIndex",hh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lh,{unique:!0}),e.createObjectStore("targetGlobal")}var vv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(O(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Du(Nu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zd(this,i),this.ii=n+"main",this.yt=new Oh(s),this.ri=new ds(this.ii,this.Xs,new hv(this.yt)),this.Cs=new Rd(this.referenceDelegate,this.yt),this.remoteDocumentCache=Gd(this.yt),this.Ns=new Kh,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Eu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return L(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Du(Nu.FAILED_PRECONDITION,vv);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Es(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=st(ot().mark((function n(r){return ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=st(ot().mark((function t(n){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return yv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ms(t))return xu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return mv(e).get("owner").next((function(e){return fs.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return yv(e).delete(this.clientId)}},{key:"yi",value:function(){var e=st(ot().mark((function e(){var t,n,r,i,a=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Th(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=$(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?fs.resolve(!0):mv(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Du(Nu.FAILED_PRECONDITION,vv);return!1}}return!(!t.networkEnabled||!t.inForeground)||yv(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&xu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=st(ot().mark((function e(){var t=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new _h(e,Es.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return yv(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Cd.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new gd(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Wh.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;xu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Ih:14===i?Sh:13===i?Eh:12===i?xh:11===i?wh:void _u();return this.ri.runTransaction(e,o,u,(function(i){return a=new _h(i,r.Ss?r.Ss.next():Es.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Eu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Du(Nu.FAILED_PRECONDITION,us);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return mv(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Du(Nu.FAILED_PRECONDITION,vv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mv(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=mv(e);return n.get("owner").next((function(e){return t.mi(e)?(xu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fs.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Eu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),It()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return xu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Eu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(_r){Eu("Failed to set zombie client id.",_r)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(_r){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return ds.C()}}]),e}();function mv(e){return Th(e,"owner")}function yv(e){return Th(e,"clientMetadata")}function gv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bv=function(){function e(t,n,r,i){O(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return L(e,null,[{key:"Ci",value:function(t,n){var r,i=sf(),a=sf(),o=$(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),kv=function(){function e(){O(this,e),this.xi=!1}return L(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Xc(t))return fs.resolve(null);var r=rl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=al(t,null,"F"),r=rl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sf.apply(void 0,A(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,al(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Xc(t)||r.isEqual(Gu.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(wu()<=zt.DEBUG&&xu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sl(t)),i.Bi(e,o,t,rs(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Rc(fl(e));return t.forEach((function(t,r){cl(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return wu()<=zt.DEBUG&&xu("QueryEngine","Using full collection scan to execute query:",sl(t)),this.Ni.getDocumentsMatchingQuery(e,t,as.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wv=function(){function e(t,n,r,i){O(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Ac(zu),this.Ui=new $l((function(e){return qc(e)}),Kc),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return L(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ev(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function xv(e,t,n,r){return new wv(e,t,n,r)}function Ev(e,t){return Sv.apply(this,arguments)}function Sv(){return Sv=st(ot().mark((function e(t,n){var r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=sf(),s=$(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=$(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=$(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,y=$(p.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){v.e(b)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Iv(e,t){var n=Cu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Tu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function _v(e){var t=Cu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Tv(e,t){var n=Cu(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Os.EMPTY_BYTE_STRING,Gu.min()).withLastLimboFreeSnapshotVersion(Gu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Xl(),s=sf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cv(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Gu.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function Cv(e,t,n){var r=sf(),i=sf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Xl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Gu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):xu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Nv(e,t){var n=Cu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Dv(e,t){var n=Cu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,fs.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Ah(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Av(e,t,n){return Ov.apply(this,arguments)}function Ov(){return Ov=st(ot().mark((function e(t,n,r){var i,a,o;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cu(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ms(e.t1)){e.next=12;break}throw e.t1;case 12:xu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ov.apply(this,arguments)}function Pv(e,t,n){var r=Cu(e),i=Gu.min(),a=sf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Cu(e),i=r.Ui.get(n);return void 0!==i?fs.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,rl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Gu.min(),n?a:sf())})).next((function(e){return Fv(r,ll(t),e),{documents:e,Hi:a}}))}))}function Rv(e,t){var n=Cu(e),r=Cu(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Lv(e,t){var n=Cu(e),r=n.Ki.get(t)||Gu.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,rs(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Fv(n,t,e),e}))}function Fv(e,t,n){var r=e.Ki.get(t)||Gu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Mv(e,t,n,r){return jv.apply(this,arguments)}function jv(){return jv=st(ot().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,v;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Cu(t),o=sf(),u=Xl(),s=$(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(p){s.e(p)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Dv(a,function(e){return rl(Yc(Qu.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Cv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Vv(e,t){return Uv.apply(this,arguments)}function Uv(){return Uv=st(ot().mark((function e(t,n){var r,i,a,o=arguments;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sf(),e.next=3,Dv(t,rl(Uh(n.bundledQuery)));case 3:return i=e.sent,a=Cu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Tf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Os.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function Bv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function zv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function qv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kv=function(){function e(t,n,r,i){O(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return L(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Du(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Eu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Hv=function(){function e(t,n,r){O(this,e),this.targetId=t,this.state=n,this.error=r}return L(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Du(i.error.code,i.error.message))),a?new e(t,i.state,r):(Eu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Gv=function(){function e(t,n){O(this,e),this.clientId=t,this.activeTargetIds=n}return L(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lf(),o=0;i&&o<r.activeTargetIds.length;++o)i=As(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Eu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Wv=function(){function e(t,n){O(this,e),this.clientId=t,this.onlineState=n}return L(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Eu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Qv=function(){function e(){O(this,e),this.activeTargetIds=lf()}return L(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Zv=function(){function e(t,n,r,i,a){O(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ac(zu),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Bv(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Qv),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return L(e,[{key:"start",value:function(){var e=st(ot().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=$(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Bv(this.persistenceKey,i)))&&(o=Gv.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=$(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(qv(this.persistenceKey,e));if(n){var r=Hv.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(qv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return xu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){xu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){xu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(xu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Eu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(st(ot().mark((function e(){var r,i,a,o,u,s,c;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Es.at;if(null!=e)try{var n=JSON.parse(e);Tu("number"==typeof n),t=n}catch(e){Eu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Es.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Kv(this.currentUser,e,t,n),i=zv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=zv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=qv(this.persistenceKey,e),i=new Hv(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Gv.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kv.Zi(new gu(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Hv.Zi(r,t)}},{key:"yr",value:function(e){return Wv.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:xu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=lf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),$v=function(){function e(){O(this,e),this.Lr=new Qv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return L(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Qv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Yv=function(){function e(){O(this,e)}return L(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Xv=function(){function e(){var t=this;O(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return L(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){xu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){xu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Jv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ep=function(){function e(t){O(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return L(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),tp=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return L(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new mu;o.setWithCredentials(!0),o.listenOnce(fu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case lu.NO_ERROR:var t=o.getResponseJson();xu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case lu.TIMEOUT:xu("Connection",'RPC "'+e+'" timed out'),a(new Du(Nu.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:var n=o.getStatus();if(xu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nu).indexOf(t)>=0?t:Nu.UNKNOWN}(u.status);a(new Du(s,u.message))}else a(new Du(Nu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Du(Nu.UNAVAILABLE,"Connection failed."));break;default:_u()}}finally{xu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=su(),a=cu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new vu({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");xu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new ep({Hr:function(e){l?xu("Connection","Not sending because WebChannel is closed:",e):(c||(xu("Connection","Opening WebChannel transport."),s.open(),c=!0),xu("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,pu.EventType.OPEN,(function(){l||xu("Connection","WebChannel transport opened.")})),h(s,pu.EventType.CLOSE,(function(){l||(l=!0,xu("Connection","WebChannel transport closed"),f.io())})),h(s,pu.EventType.ERROR,(function(e){l||(l=!0,Su("Connection","WebChannel transport errored:",e),f.io(new Du(Nu.UNAVAILABLE,"The operation could not be completed")))})),h(s,pu.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Tu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){xu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ql[e];if(void 0!==t)return Zl(t)}(a),u=i.message;void 0===o&&(o=Nu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Du(o,u)),s.close()}else xu("Connection","WebChannel received:",n),f.ro(n)}})),h(a,hu.STAT_EVENT,(function(e){e.stat===du.PROXY?xu("Connection","Detected buffering proxy"):e.stat===du.NOPROXY&&xu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){O(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return L(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);xu("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return xu("RestConnection","Received: ",e),e}),(function(t){throw Su("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Jv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function np(){return"undefined"!=typeof window?window:null}function rp(){return"undefined"!=typeof document?document:null}function ip(e){return new Ef(e,!0)}var ap=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;O(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return L(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&xu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),op=function(){function e(t,n,r,i,a,o,u,s){O(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ap(t,n)}return L(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=st(ot().mark((function e(t,n){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Nu.RESOURCE_EXHAUSTED?(Eu(n.toString()),Eu("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Nu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=W(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Du(Nu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return xu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(xu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),up=function(e){M(n,e);var t=K(n);function n(e,r,i,a,o,u){var s;return O(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return L(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_u()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Tu(void 0===t||"string"==typeof t),Os.fromBase64String(t||"")):(Tu(void 0===t||t instanceof Uint8Array),Os.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Nu.UNKNOWN:Zl(e.code);return new Du(t,e.message||"")}(o);n=new pf(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Af(e,s.document.name),l=Tf(s.document.updateTime),f=s.document.createTime?Tf(s.document.createTime):Gu.min(),h=new jc({mapValue:{fields:s.document.fields}}),d=Uc.newFoundDocument(c,l,f,h),v=s.targetIds||[],p=s.removedTargetIds||[];n=new df(v,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Af(e,m.document),g=m.readTime?Tf(m.readTime):Gu.min(),b=Uc.newNoDocument(y,g),k=m.removedTargetIds||[];n=new df([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Af(e,w.document),E=w.removedTargetIds||[];n=new df([],E,x,null)}else{if(!("filter"in t))return _u();t.filter;var S=t.filter;S.targetId;var I=S.count||0,_=new Wl(I),T=S.targetId;n=new vf(T,_)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Gu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gu.min():t.readTime?Tf(t.readTime):Gu.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Rf(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Hc(r)?{documents:Bf(e,r)}:{query:zf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=If(e,t.resumeToken):t.snapshotVersion.compareTo(Gu.min())>0&&(n.readTime=Sf(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _u()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Rf(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(op),sp=function(e){M(n,e);var t=K(n);function n(e,r,i,a,o,u){var s;return O(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return L(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,fr(j(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Tu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Tu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Tf(e.updateTime):Tf(t);return n.isEqual(Gu.min())&&(n=Tf(t)),new Nl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Tf(e.commitTime);return this.listener.Zo(n,t)}return Tu(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Rf(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Vf(t.yt,e)}))};this.Bo(n)}}]),n}(op),cp=function(e){M(n,e);var t=K(n);function n(e,r,i,a){var o;return O(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return L(n,[{key:"su",value:function(){if(this.nu)throw new Du(Nu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=W(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Du(Nu.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=W(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Du(Nu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return L((function e(){O(this,e)}))}());var lp=function(){function e(t,n){O(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return L(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Eu(t),this.ou=!1):xu("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),fp=L((function e(t,n,r,i,a){var o=this;O(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xp(o),!e.t0){e.next=5;break}return xu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=st(ot().mark((function e(t){var n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cu(t))._u.add(4),e.next=4,vp(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,hp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new lp(r,i)}));function hp(e){return dp.apply(this,arguments)}function dp(){return dp=st(ot().mark((function e(t){var n,r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xp(t)){e.next=18;break}n=$(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),dp.apply(this,arguments)}function vp(e){return pp.apply(this,arguments)}function pp(){return pp=st(ot().mark((function e(t){var n,r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),pp.apply(this,arguments)}function mp(e,t){var n=Cu(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),wp(n)?kp(n):Yp(n).ko()&&gp(n,t))}function yp(e,t){var n=Cu(e),r=Yp(n);n.du.delete(t),r.ko()&&bp(n,t),0===n.du.size&&(r.ko()?r.Fo():xp(n)&&n.gu.set("Unknown"))}function gp(e,t){e.yu.Ot(t.targetId),Yp(e).zo(t)}function bp(e,t){e.yu.Ot(t),Yp(e).Ho(t)}function kp(e){e.yu=new yf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Yp(e).start(),e.gu.uu()}function wp(e){return xp(e)&&!Yp(e).No()&&e.du.size>0}function xp(e){return 0===Cu(e)._u.size}function Ep(e){e.yu=void 0}function Sp(e){return Ip.apply(this,arguments)}function Ip(){return Ip=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){gp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function _p(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=st(ot().mark((function e(t,n){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ep(t),wp(t)?(t.gu.hu(n),kp(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Cp(e,t,n){return Np.apply(this,arguments)}function Np(){return Np=st(ot().mark((function e(t,n,r){var i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof pf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=st(ot().mark((function e(t,n){var r,i,a,o;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),xu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Dp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof df?t.yu.Kt(n):n instanceof vf?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Gu.min())){e.next=29;break}return e.prev=14,e.next=17,_v(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Os.EMPTY_BYTE_STRING,n.snapshotVersion)),bp(e,t);var r=new Ah(n.target,t,1,n.sequenceNumber);gp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),xu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Dp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Np.apply(this,arguments)}function Dp(e,t,n){return Ap.apply(this,arguments)}function Ap(){return Ap=st(ot().mark((function e(t,n,r){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ms(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,vp(t);case 5:t.gu.set("Offline"),r||(r=function(){return _v(t.localStore)}),t.asyncQueue.enqueueRetryable(st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,hp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Op(e,t){return t().catch((function(n){return Dp(e,n,t)}))}function Pp(e){return Rp.apply(this,arguments)}function Rp(){return Rp=st(ot().mark((function e(t){var n,r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cu(t),r=Xp(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Lp(n)){e.next=19;break}return e.prev=3,e.next=6,Nv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Fp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Dp(n,e.t0);case 17:e.next=2;break;case 19:Mp(n)&&jp(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Rp.apply(this,arguments)}function Lp(e){return xp(e)&&e.fu.length<10}function Fp(e,t){e.fu.push(t);var n=Xp(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Mp(e){return xp(e)&&!Xp(e).No()&&e.fu.length>0}function jp(e){Xp(e).start()}function Vp(e){return Up.apply(this,arguments)}function Up(){return Up=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xp(t).eu();case 1:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function Bp(e){return zp.apply(this,arguments)}function zp(){return zp=st(ot().mark((function e(t){var n,r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xp(t),r=$(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function qp(e,t,n){return Kp.apply(this,arguments)}function Kp(){return Kp=st(ot().mark((function e(t,n,r){var i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Nh.from(i,n,r),e.next=3,Op(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Pp(t);case 5:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}function Hp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=st(ot().mark((function e(t,n){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Xp(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=st(ot().mark((function e(t,n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ql(i=n.code)||i===Nu.ABORTED){e.next=7;break}return r=t.fu.shift(),Xp(t).Mo(),e.next=5,Op(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Pp(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Mp(t)&&jp(t);case 5:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Wp(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=st(ot().mark((function e(t,n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Cu(t)).asyncQueue.verifyOperationInProgress(),xu("RemoteStore","RemoteStore received new credentials"),i=xp(r),r._u.add(3),e.next=6,vp(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,hp(r);case 12:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function Zp(e,t){return $p.apply(this,arguments)}function $p(){return $p=st(ot().mark((function e(t,n){var r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cu(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,hp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,vp(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),$p.apply(this,arguments)}function Yp(e){return e.pu||(e.pu=function(e,t,n){var r=Cu(e);return r.su(),new up(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Sp.bind(null,e),Zr:_p.bind(null,e),Wo:Cp.bind(null,e)}),e.wu.push(function(){var t=st(ot().mark((function t(n){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),wp(e)?kp(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Ep(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Xp(e){return e.Iu||(e.Iu=function(e,t,n){var r=Cu(e);return r.su(),new sp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Vp.bind(null,e),Zr:Hp.bind(null,e),tu:Bp.bind(null,e),Zo:qp.bind(null,e)}),e.wu.push(function(){var t=st(ot().mark((function t(n){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Pp(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(xu("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Jp=function(){function e(t,n,r,i,a){O(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Au,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return L(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Du(Nu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function em(e,t){if(Eu("AsyncQueue","".concat(t,": ").concat(e)),ms(e))return new Du(Nu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var tm=function(){function e(t){O(this,e),this.comparator=t?function(e,n){return t(e,n)||Yu.comparator(e.key,n.key)}:function(e,t){return Yu.comparator(e.key,t.key)},this.keyedMap=ef(),this.sortedSet=new Ac(this.comparator)}return L(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),nm=function(){function e(){O(this,e),this.Tu=new Ac(Yu.comparator)}return L(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):_u():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),rm=function(){function e(t,n,r,i,a,o,u,s,c){O(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return L(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,tm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),im=L((function e(){O(this,e),this.Au=void 0,this.listeners=[]})),am=L((function e(){O(this,e),this.queries=new $l((function(e){return ul(e)}),ol),this.onlineState="Unknown",this.Ru=new Set}));function om(e,t){return um.apply(this,arguments)}function um(){return um=st(ot().mark((function e(t,n){var r,i,a,o,u;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new im),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=em(e.t0,"Initialization of query '".concat(sl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&hm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),um.apply(this,arguments)}function sm(e,t){return cm.apply(this,arguments)}function cm(){return cm=st(ot().mark((function e(t,n){var r,i,a,o,u;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function lm(e,t){var n,r=Cu(e),i=!1,a=$(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=$(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&hm(r)}function fm(e,t,n){var r=Cu(e),i=r.queries.get(t);if(i){var a,o=$(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function hm(e){e.Ru.forEach((function(e){e.next()}))}var dm=function(){function e(t,n,r){O(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return L(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new rm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),vm=function(){function e(t,n){O(this,e),this.ku=t,this.byteLength=n}return L(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),pm=function(){function e(t){O(this,e),this.yt=t}return L(e,[{key:"Ji",value:function(e){return Af(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Mf(this.yt,e.document,!1):Uc.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Tf(e)}}]),e}(),mm=function(){function e(t,n,r){O(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ym(t)}return L(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Qu.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new pm(this.yt),i=$(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=$(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||sf()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=st(ot().mark((function e(){var t,n,r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(this.localStore,new pm(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=$(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Vv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ym(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var gm=L((function e(t){O(this,e),this.key=t})),bm=L((function e(t){O(this,e),this.key=t})),km=function(){function e(t,n){O(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sf(),this.mutatedKeys=sf(),this.Gu=fl(t),this.Qu=new tm(this.Gu)}return L(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new nm,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=cl(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _u()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new rm(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new nm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=sf(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new bm(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new gm(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=sf();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return rm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),wm=L((function e(t,n,r){O(this,e),this.query=t,this.targetId=n,this.view=r})),xm=L((function e(t){O(this,e),this.key=t,this.nc=!1})),Em=function(){function e(t,n,r,i,a,o){O(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new $l((function(e){return ul(e)}),ol),this.rc=new Map,this.oc=new Set,this.uc=new Ac(Yu.comparator),this.cc=new Map,this.ac=new rv,this.hc={},this.lc=new Map,this.fc=Pd.vn(),this.onlineState="Unknown",this.dc=void 0}return L(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Sm(e,t){return Im.apply(this,arguments)}function Im(){return Im=st(ot().mark((function e(t,n){var r,i,a,o,u,s;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yy(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Dv(r.localStore,rl(n));case 8:return u=e.sent,r.isPrimaryClient&&mp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,_m(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function _m(e,t,n,r,i){return Tm.apply(this,arguments)}function Tm(){return Tm=st(ot().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=st(ot().mark((function e(t,n,r,i){var a,o,u;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Pv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Wm(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Pv(t.localStore,n,!0);case 3:return o=e.sent,u=new km(n,o.Hi),s=u.Wu(o.documents),c=hf.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Wm(t,r,l.Xu),f=new wm(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Cm(e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=st(ot().mark((function e(t,n){var r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cu(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!ol(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Av(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),yp(r.remoteStore,i.targetId),Hm(r,i.targetId)})).catch(cs);case 9:e.next=14;break;case 11:return Hm(r,i.targetId),e.next=14,Av(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Dm(e,t,n){return Am.apply(this,arguments)}function Am(){return Am=st(ot().mark((function e(t,n,r){var i,a,o;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gy(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Cu(e),a=Hu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Xl(),s=sf();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=$(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Fl(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Vl(c.key,l,Vc(l.value.mapValue),Dl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Ac(zu)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,$m(i,a.changes);case 9:return e.next=11,Pp(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=em(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Am.apply(this,arguments)}function Om(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=st(ot().mark((function e(t,n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.prev=1,e.next=4,Tv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Tu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Tu(n.nc):e.removedDocuments.size>0&&(Tu(n.nc),n.nc=!1))})),e.next=8,$m(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Pm.apply(this,arguments)}function Rm(e,t,n){var r=Cu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Cu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hm(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Lm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return Fm=st(ot().mark((function e(t,n,r){var i,a,o,u,s,c;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Cu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ac(Yu.comparator)).insert(o,Uc.newNoDocument(o,Gu.min())),s=sf().add(o),c=new ff(Gu.min(),new Map,new Rc(zu),u,s),e.next=9,Om(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Zm(i),e.next=16;break;case 14:return e.next=16,Av(i.localStore,n,!1).then((function(){return Hm(i,n,r)})).catch(cs);case 16:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Mm(e,t){return jm.apply(this,arguments)}function jm(){return jm=st(ot().mark((function e(t,n){var r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),i=n.batch.batchId,e.prev=1,e.next=4,Iv(r.localStore,n);case 4:return a=e.sent,Km(r,i,null),qm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,$m(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jm.apply(this,arguments)}function Vm(e,t,n){return Um.apply(this,arguments)}function Um(){return Um=st(ot().mark((function e(t,n,r){var i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cu(t),e.prev=1,e.next=4,function(e,t){var n=Cu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Tu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Km(i,n,r),qm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,$m(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Um.apply(this,arguments)}function Bm(e,t){return zm.apply(this,arguments)}function zm(){return zm=st(ot().mark((function e(t,n){var r,i,a,o;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xp((r=Cu(t)).remoteStore)||xu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Cu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=em(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),zm.apply(this,arguments)}function qm(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Km(e,t,n){var r=Cu(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Hm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Gm(e,t)}))}function Gm(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(yp(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Zm(e))}function Wm(e,t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof gm?(e.ac.addReference(a.key,t),Qm(e,a)):a instanceof bm?(xu("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Gm(e,a.key)):_u()}}catch(o){i.e(o)}finally{i.f()}}function Qm(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(xu("SyncEngine","New document in limbo: "+n),e.oc.add(r),Zm(e))}function Zm(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Yu(Qu.fromString(t)),r=e.fc.next();e.cc.set(r,new xm(n)),e.uc=e.uc.insert(n,r),mp(e.remoteStore,new Ah(rl(Yc(n.path)),r,2,Es.at))}}function $m(e,t,n){return Ym.apply(this,arguments)}function Ym(){return Ym=st(ot().mark((function e(t,n,r){var i,a,o,u;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cu(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=bv.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=st(ot().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fs.forEach(n,(function(t){return fs.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fs.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ms(e.t0)){e.next=10;break}throw e.t0;case 10:xu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t){return Jm.apply(this,arguments)}function Jm(){return Jm=st(ot().mark((function e(t,n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Cu(t)).currentUser.isEqual(n)){e.next=11;break}return xu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ev(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Du(Nu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,$m(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function ey(e,t){var n=Cu(e),r=n.cc.get(t);if(r&&r.nc)return sf().add(r.key);var i=sf(),a=n.rc.get(t);if(!a)return i;var o,u=$(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function ty(e,t){return ny.apply(this,arguments)}function ny(){return ny=st(ot().mark((function e(t,n){var r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.next=3,Pv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Wm(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=st(ot().mark((function e(t,n){var r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),e.abrupt("return",Lv(r.localStore,n).then((function(e){return $m(r,e)})));case 2:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t,n,r){return oy.apply(this,arguments)}function oy(){return oy=st(ot().mark((function e(t,n,r,i){var a,o;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cu(t),e.next=3,function(e,t){var n=Cu(e),r=Cu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):fs.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Pp(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Km(a,n,i||null),qm(a,n),function(e,t){Cu(Cu(e).mutationQueue).An(t)}(a.localStore,n)):_u();case 11:return e.next=13,$m(a,o);case 13:e.next=16;break;case 15:xu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),oy.apply(this,arguments)}function uy(e,t){return sy.apply(this,arguments)}function sy(){return sy=st(ot().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yy(r=Cu(t)),gy(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,cy(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Zp(r.remoteStore,!0);case 9:o=$(a);try{for(o.s();!(u=o.n()).done;)s=u.value,mp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Hm(r,t),Av(r.localStore,t,!0)})),yp(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,cy(r,c);case 21:return function(e){var t=Cu(e);t.cc.forEach((function(e,n){yp(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Ac(Yu.comparator)}(r),r.dc=!1,e.next=25,Zp(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function cy(e,t,n){return ly.apply(this,arguments)}function ly(){return ly=st(ot().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,v,p,m,y;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Cu(t),a=[],o=[],u=$(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Dv(i.localStore,rl(f[0]));case 11:l=e.sent,h=$(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,p=i.ic.get(v),e.next=20,ty(i,p);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Rv(i.localStore,c);case 36:return y=e.sent,e.next=39,Dv(i.localStore,y);case 39:return l=e.sent,e.next=42,_m(i,fy(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ly.apply(this,arguments)}function fy(e){return $c(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hy(e){var t=Cu(e);return Cu(Cu(t.localStore).persistence).vi()}function dy(e,t,n,r){return vy.apply(this,arguments)}function vy(){return vy=st(ot().mark((function e(t,n,r,i){var a,o,u,s;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Cu(t)).dc){e.next=3;break}return e.abrupt("return",void xu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Lv(a.localStore,ll(o[0]));case 10:return u=e.sent,s=ff.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Os.EMPTY_BYTE_STRING),e.next=14,$m(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Av(a.localStore,n,!0);case 17:return Hm(a,n,i),e.abrupt("break",20);case 19:_u();case 20:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function py(e,t,n){return my.apply(this,arguments)}function my(){return my=st(ot().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=yy(t)).dc){e.next=45;break}a=$(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return xu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Rv(i.localStore,u);case 12:return s=e.sent,e.next=15,Dv(i.localStore,s);case 15:return c=e.sent,e.next=18,_m(i,fy(s),c.targetId,!1,c.resumeToken);case 18:mp(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$(r),e.prev=30,h=ot().mark((function e(){var t;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Av(i.localStore,t,!1).then((function(){yp(i.remoteStore,t),Hm(i,t)})).catch(cs);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),my.apply(this,arguments)}function yy(e){var t=Cu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Om.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ey.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lm.bind(null,t),t.sc.Wo=lm.bind(null,t.eventManager),t.sc.wc=fm.bind(null,t.eventManager),t}function gy(e){var t=Cu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vm.bind(null,t),t}function by(e,t,n){var r=Cu(e);(function(){var e=st(ot().mark((function e(t,n,r){var i,a,o,u,s;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Cu(e),r=Tf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(ym(i)),a=new mm(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,$m(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Cu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Su("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ky=function(){function e(){O(this,e),this.synchronizeTabs=!1}return L(e,[{key:"initialize",value:function(){var e=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=ip(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return xv(this.persistence,new kv,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new cv(fv.Bs,this.yt)}},{key:"gc",value:function(e){return new $v}},{key:"terminate",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wy=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return L(n,[{key:"initialize",value:function(){var e=st(ot().mark((function e(t){var r=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(j(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,gy(this.Ac.syncEngine);case 6:return e.next=8,Pp(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return xv(this.persistence,new kv,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Ud(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new xs(t,this.persistence);return new ws(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=gv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Id.withCacheSize(this.cacheSizeBytes):Id.DEFAULT;return new pv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,np(),rp(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new $v}}]),n}(ky),xy=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return L(n,[{key:"initialize",value:function(){var e=st(ot().mark((function e(t){var r,i=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(j(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Zv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:ay.bind(null,r),$r:dy.bind(null,r),Br:py.bind(null,r),vi:hy.bind(null,r),Mr:ry.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uy(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=np();if(!Zv.C(t))throw new Du(Nu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(wy),Ey=function(){function e(){O(this,e)}return L(e,[{key:"initialize",value:function(){var e=st(ot().mark((function e(t,n){var r=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Rm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Xm.bind(null,this.syncEngine),e.next=12,Zp(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new am}},{key:"createDatastore",value:function(e){var t,n=ip(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new tp(t));return function(e,t,n,r){return new cp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Rm(o.syncEngine,e,0)},a=Xv.C()?new Xv:new Yv,new fp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Em(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=st(ot().mark((function e(t){var n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cu(t),xu("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,vp(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Sy(e,t,n){if(!n)throw new Du(Nu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Iy(e,t,n,r){if(!0===t&&!0===r)throw new Du(Nu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function _y(e){if(!Yu.isDocumentKey(e))throw new Du(Nu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ty(e){if(Yu.isDocumentKey(e))throw new Du(Nu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_u()}function Ny(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Du(Nu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Cy(e);throw new Du(Nu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Dy(e,t){if(t<=0)throw new Du(Nu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ay=new Map,Oy=function(){function e(t){var n;if(O(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Du(Nu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Du(Nu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Iy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return L(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Py=function(){function e(t,n,r,i){O(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oy({}),this._settingsFrozen=!1}return L(e,[{key:"app",get:function(){if(!this._app)throw new Du(Nu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Du(Nu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pu;switch(e.type){case"gapi":var t=e.client;return new Mu(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Du(Nu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ay.get(e);t&&(xu("ComponentProvider","Removing Datastore"),Ay.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ry(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ny(e,Py))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Su("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=gu.MOCK_USER;else{o=Et(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Du(Nu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gu(s)}e._authCredentials=new Ru(new Ou(o,u))}}var Ly=function(){function e(t,n,r){O(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return L(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new My(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Fy=function(){function e(t,n,r){O(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return L(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),My=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,e,r,Yc(i)))._path=i,a.type="collection",a}return L(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ly(this.firestore,null,new Yu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Fy);function jy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Mt(e),Sy("collection","path",t),e instanceof Py){var a=Qu.fromString.apply(Qu,[t].concat(r));return Ty(a),new My(e,null,a)}if(!(e instanceof Ly||e instanceof My))throw new Du(Nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qu.fromString.apply(Qu,[t].concat(r)));return Ty(o),new My(e.firestore,null,o)}function Vy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Mt(e),1===arguments.length&&(t=Bu.R()),Sy("doc","path",t),e instanceof Py){var a=Qu.fromString.apply(Qu,[t].concat(r));return _y(a),new Ly(e,null,new Yu(a))}if(!(e instanceof Ly||e instanceof My))throw new Du(Nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qu.fromString.apply(Qu,[t].concat(r)));return _y(o),new Ly(e.firestore,e instanceof My?e.converter:null,new Yu(o))}function Uy(e,t){return e=Mt(e),t=Mt(t),(e instanceof Ly||e instanceof My)&&(t instanceof Ly||t instanceof My)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function By(e,t){return e=Mt(e),t=Mt(t),e instanceof Fy&&t instanceof Fy&&e.firestore===t.firestore&&ol(e._query,t._query)&&e.converter===t.converter}function zy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return st(ot().mark((function r(){var i;return ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var qy=function(){function e(t){O(this,e),this.observer=t,this.muted=!1}return L(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Eu("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Ky=function(){function e(t,n){var r=this;O(this,e),this.Pc=t,this.yt=n,this.metadata=new Au,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return L(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=st(ot().mark((function e(){var t,n,r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new vm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=st(ot().mark((function e(){var t,n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=st(ot().mark((function e(t){var n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=st(ot().mark((function e(){var t,n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hy=function(){function e(t){O(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return L(e,[{key:"lookup",value:function(){var e=st(ot().mark((function e(t){var n,r=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Du(Nu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=st(ot().mark((function e(t,n){var r,i,a,o,u,s;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),i=Rf(r.yt)+"/documents",a={documents:n.map((function(e){return Df(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=jf(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Tu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Hl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=st(ot().mark((function e(){var t,n=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yu.fromPath(t);n.mutations.push(new Gl(r,n.precondition(r)))})),e.next=7,function(){var e=st(ot().mark((function e(t,n){var r,i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cu(t),i=Rf(r.yt)+"/documents",a={writes:n.map((function(e){return Vf(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _u();t=Gu.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Du(Nu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Gu.min())?Dl.exists(!1):Dl.updateTime(t):Dl.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gu.min()))throw new Du(Nu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dl.updateTime(t)}return Dl.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Gy=function(){function e(t,n,r,i,a){O(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new ap(this.asyncQueue,"transaction_retry")}return L(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(st(ot().mark((function t(){var n,r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Hy(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ns(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ql(t)}return!1}}]),e}(),Wy=function(){function e(t,n,r,i){var a=this;O(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gu.UNAUTHENTICATED,this.clientId=Bu.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return xu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return L(e,[{key:"getConfiguration",value:function(){var e=st(ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Du(Nu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Au;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(st(ot().mark((function n(){var r;return ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=em(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Qy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=st(ot().mark((function e(t,n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),xu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ev(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function $y(e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=st(ot().mark((function e(t,n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Xy(t);case 3:return r=e.sent,xu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Wp(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Wp(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Xy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return xu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Qy(t,new ky);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function eg(e){return tg.apply(this,arguments)}function tg(){return tg=st(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return xu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,$y(t,new Ey);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e){return Xy(e).then((function(e){return e.persistence}))}function rg(e){return Xy(e).then((function(e){return e.localStore}))}function ig(e){return eg(e).then((function(e){return e.remoteStore}))}function ag(e){return eg(e).then((function(e){return e.syncEngine}))}function og(e){return eg(e).then((function(e){return e.datastore}))}function ug(e){return sg.apply(this,arguments)}function sg(){return sg=st(ot().mark((function e(t){var n,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Sm.bind(null,n.syncEngine),r.onUnlisten=Cm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),sg.apply(this,arguments)}function cg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function i(){return ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qy({next:function(a){t.enqueueAndForget((function(){return sm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Du(Nu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Du(Nu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new dm(Yc(n.path),a,{includeMetadataChanges:!0,Nu:!0});return om(e,o)},i.next=3,ug(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function lg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function i(){return ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qy({next:function(n){t.enqueueAndForget((function(){return sm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Du(Nu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new dm(n,a,{includeMetadataChanges:!0,Nu:!0});return om(e,o)},i.next=3,ug(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var fg=function(){function e(){var t=this;O(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ap(this,"async_queue_retry"),this.Wc=function(){var e=rp();e&&xu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=rp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return L(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=rp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Au;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=st(ot().mark((function e(){var t=this;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ms(e.t0)){e.next=12;break}throw e.t0;case 12:xu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Eu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Jp.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&_u()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=st(ot().mark((function e(){var t;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=$(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function hg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var dg=function(){function e(){O(this,e),this._progressObserver={},this._taskCompletionResolver=new Au,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return L(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),vg=function(e){M(n,e);var t=K(n);function n(e,r,i,a){var o;return O(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new fg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return L(n,[{key:"_terminate",value:function(){return this._firestoreClient||mg(this),this._firestoreClient.terminate()}}]),n}(Py);function pg(e){return e._firestoreClient||mg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ss(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Wy(e._authCredentials,e._appCheckCredentials,e._queue,r)}function yg(e,t,n){var r=new Au;return e.asyncQueue.enqueue(st(ot().mark((function i(){var a;return ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Qy(e,n);case 3:return i.next=5,$y(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Nu.FAILED_PRECONDITION||e.code===Nu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Su("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function gg(e){return function(e){return e.asyncQueue.enqueue(st(ot().mark((function t(){var n,r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ng(e);case 2:return n=t.sent,t.next=5,ig(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Cu(e);return t._u.delete(0),hp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(pg(e=Ny(e,vg)))}function bg(e){return function(e){return e.asyncQueue.enqueue(st(ot().mark((function t(){var n,r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ng(e);case 2:return n=t.sent,t.next=5,ig(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=st(ot().mark((function e(t){var n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cu(t))._u.add(0),e.next=4,vp(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(pg(e=Ny(e,vg)))}function kg(e,t){var n=pg(e=Ny(e,vg)),r=new dg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Ky(e,t)}(function(e,t){if(e instanceof Uint8Array)return zy(e,t);if(e instanceof ArrayBuffer)return zy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ip(t));e.asyncQueue.enqueueAndForget(st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=by,t.next=3,ag(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function wg(e,t){return function(e,t){return e.asyncQueue.enqueue(st(ot().mark((function n(){return ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Cu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,rg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(pg(e=Ny(e,vg)),t).then((function(t){return t?new Fy(e,null,t.query):null}))}function xg(e){if(e._initialized||e._terminated)throw new Du(Nu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Eg=function(){function e(t){O(this,e),this._byteString=t}return L(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Os.fromBase64String(t))}catch(t){throw new Du(Nu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Os.fromUint8Array(t))}}]),e}(),Sg=function(){function e(){O(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Du(Nu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $u(n)}return L(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Ig=L((function e(t){O(this,e),this._methodName=t})),_g=function(){function e(t,n){if(O(this,e),!isFinite(t)||t<-90||t>90)throw new Du(Nu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Du(Nu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return L(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zu(this._lat,e._lat)||zu(this._long,e._long)}}]),e}(),Tg=/^__.*__$/,Cg=function(){function e(t,n,r){O(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return L(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}}]),e}(),Ng=function(){function e(t,n,r){O(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return L(e,[{key:"toMutation",value:function(e,t){return new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Dg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _u()}}var Ag=function(){function e(t,n,r,i,a,o){O(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return L(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Yg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Dg(this.sa)&&Tg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Og=function(){function e(t,n,r){O(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||ip(t)}return L(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ag({sa:e,methodName:t,fa:n,path:$u.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function Pg(e){var t=e._freezeSettings(),n=ip(e._databaseId);return new Og(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Wg("Data must be an object, but it was:",o,r);var u,s,c=Hg(r,o);if(a.merge)u=new Mc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Qg(t,d,n);if(!o.contains(v))throw new Du(Nu.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Xg(f,v)||f.push(v)}}catch(p){h.e(p)}finally{h.f()}u=new Mc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Cg(new jc(c),u,s)}var Lg=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ig);function Fg(e,t,n){return new Ag({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var Mg=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"_toFieldTransform",value:function(e){return new Cl(e.path,new kl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ig),jg=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e))._a=r,i}return L(n,[{key:"_toFieldTransform",value:function(e){var t=Fg(this,e,!0),n=this._a.map((function(e){return Kg(e,t)})),r=new wl(n);return new Cl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ig),Vg=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e))._a=r,i}return L(n,[{key:"_toFieldTransform",value:function(e){var t=Fg(this,e,!0),n=this._a.map((function(e){return Kg(e,t)})),r=new El(n);return new Cl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ig),Ug=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e)).wa=r,i}return L(n,[{key:"_toFieldTransform",value:function(e){var t=new Il(e.yt,pl(e.yt,this.wa));return new Cl(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ig);function Bg(e,t,n,r){var i=e.da(1,t,n);Wg("Data must be an object, but it was:",i,r);var a=[],o=jc.empty();Ts(r,(function(e,r){var u=$g(t,e,n);r=Mt(r);var s=i.ca(u);if(r instanceof Lg)a.push(u);else{var c=Kg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Mc(a);return new Ng(o,u,i.fieldTransforms)}function zg(e,t,n,r,i,a){var o=e.da(1,t,n),u=[Qg(t,r,n)],s=[i];if(a.length%2!=0)throw new Du(Nu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Qg(t,a[c])),s.push(a[c+1]);for(var l=[],f=jc.empty(),h=u.length-1;h>=0;--h)if(!Xg(l,u[h])){var d=u[h],v=s[h];v=Mt(v);var p=o.ca(d);if(v instanceof Lg)l.push(d);else{var m=Kg(v,p);null!=m&&(l.push(d),f.set(d,m))}}var y=new Mc(l);return new Ng(f,y,o.fieldTransforms)}function qg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Kg(n,e.da(r?4:3,t))}function Kg(e,t){if(Gg(e=Mt(e)))return Wg("Unsupported field value:",t,e),Hg(e,t);if(e instanceof Ig)return function(e,t){if(!Dg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$(e);try{for(a.s();!(n=a.n()).done;){var o=Kg(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Mt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pl(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hu.fromDate(e);return{timestampValue:Sf(t.yt,n)}}if(e instanceof Hu){var r=new Hu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sf(t.yt,r)}}if(e instanceof _g)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Eg)return{bytesValue:If(t.yt,e._byteString)};if(e instanceof Ly){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Cf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Cy(e)))}(e,t)}function Hg(e,t){var n={};return Cs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ts(e,(function(e,r){var i=Kg(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Gg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hu||e instanceof _g||e instanceof Eg||e instanceof Ly||e instanceof Ig)}function Wg(e,t,n){if(!Gg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Cy(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Qg(e,t,n){if((t=Mt(t))instanceof Sg)return t._internalPath;if("string"==typeof t)return $g(e,t);throw Yg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Zg=new RegExp("[~\\*/\\[\\]]");function $g(e,t,n){if(t.search(Zg)>=0)throw Yg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Q(Sg,A(t.split(".")))._internalPath}catch(r){throw Yg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Yg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Du(Nu.INVALID_ARGUMENT,u+e+s)}function Xg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Jg=function(){function e(t,n,r,i,a){O(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return L(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ly(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new eb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(tb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),eb=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"data",value:function(){return fr(j(n.prototype),"data",this).call(this)}}]),n}(Jg);function tb(e,t){return"string"==typeof t?$g(e,t):t instanceof Sg?t._internalPath:t._delegate._internalPath}function nb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Du(Nu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rb=L((function e(){O(this,e)})),ib=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n)}(rb);function ab(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof rb&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof ub})).length,n=e.filter((function(e){return e instanceof ob})).length;if(t>1||t>0&&n>0)throw new Du(Nu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=$(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var ob=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return L(n,[{key:"_apply",value:function(e){var t=this._parse(e);return bb(e._query,t),new Fy(e.firestore,e.converter,il(e._query,t))}},{key:"_parse",value:function(e){var t=Pg(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Du(Nu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){gb(o,a);var s,c=[],l=$(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(yb(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=yb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gb(o,a),u=qg(n,"where",o,"in"===a||"not-in"===a);return fc.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ib);var ub=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return L(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:hc.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=$(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;bb(r,a),r=il(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Fy(e.firestore,e.converter,il(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rb);var sb=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return L(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nc(t,n);return function(e,t){if(null===Jc(e)){var n=el(e);null!==n&&kb(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Fy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ib);var cb=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return L(n,[{key:"_apply",value:function(e){return new Fy(e.firestore,e.converter,al(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ib);var lb=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return L(n,[{key:"_apply",value:function(e){var t=mb(e,this.type,this._docOrFields,this._inclusive);return new Fy(e.firestore,e.converter,function(e,t){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ib);function fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lb._create("startAt",t,!0)}function hb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lb._create("startAfter",t,!1)}var db=function(e){M(n,e);var t=K(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return L(n,[{key:"_apply",value:function(e){var t=mb(e,this.type,this._docOrFields,this._inclusive);return new Fy(e.firestore,e.converter,function(e,t){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ib);function vb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return db._create("endBefore",t,!1)}function pb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return db._create("endAt",t,!0)}function mb(e,t,n,r){if(n[0]=Mt(n[0]),n[0]instanceof Jg)return function(e,t,n,r,i){if(!r)throw new Du(Nu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=$(nl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Zs(t,r.key));else{var c=r.data.field(s.field);if(Ms(c))throw new Du(Nu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new uc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Pg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Du(Nu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!tl(e)&&-1!==c.indexOf("/"))throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Qu.fromString(c));if(!Yu.isDocumentKey(l))throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Yu(l);u.push(Zs(t,f))}else{var h=qg(n,r,c);u.push(h)}}return new uc(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function yb(e,t,n){if("string"==typeof(n=Mt(n))){if(""===n)throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tl(t)&&-1!==n.indexOf("/"))throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qu.fromString(n));if(!Yu.isDocumentKey(r))throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zs(e,new Yu(r))}if(n instanceof Ly)return Zs(e,n._key);throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Cy(n),"."))}function gb(e,t){if(!Array.isArray(e)||0===e.length)throw new Du(Nu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Du(Nu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function bb(e,t){if(t.isInequality()){var n=el(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Jc(e);null!==i&&kb(e,r,i)}var a=function(e,t){var n,r=$(e);try{for(r.s();!(n=r.n()).done;){var i,a=$(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Du(Nu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Du(Nu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function kb(e,t,n){if(!n.isEqual(t))throw new Du(Nu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var wb=function(){function e(){O(this,e)}return L(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _u()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ts(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new _g(Ls(e.latitude),Ls(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=js(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Rs(e);return new Hu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qu.fromString(e);Tu(Xf(n));var r=new Is(n.get(1),n.get(3)),i=new Yu(n.popFirst(5));return r.isEqual(t)||Eu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function xb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Eb=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).firestore=e,r}return L(n,[{key:"convertBytes",value:function(e){return new Eg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ly(this.firestore,null,t)}}]),n}(wb),Sb=function(){function e(t,n){O(this,e),this.hasPendingWrites=t,this.fromCache=n}return L(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ib=function(e){M(n,e);var t=K(n);function n(e,r,i,a,o,u){var s;return O(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return L(n,[{key:"exists",value:function(){return fr(j(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new _b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(tb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Jg),_b=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fr(j(n.prototype),"data",this).call(this,e)}}]),n}(Ib),Tb=function(){function e(t,n,r,i){O(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sb(i.hasPendingWrites,i.fromCache),this.query=r}return L(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new _b(n._firestore,n._userDataWriter,r.key,r,new Sb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Du(Nu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new _b(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new _b(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Cb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Cb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _u()}}function Nb(e,t){return e instanceof Ib&&t instanceof Ib?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Tb&&t instanceof Tb&&e._firestore===t._firestore&&By(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Db=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).firestore=e,r}return L(n,[{key:"convertBytes",value:function(e){return new Eg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ly(this.firestore,null,t)}}]),n}(wb);function Ab(e){e=Ny(e,Ly);var t=Ny(e.firestore,vg),n=pg(t),r=new Db(t);return function(e,t){var n=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function r(){return ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=st(ot().mark((function e(t,n,r){var i,a;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Cu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Du(Nu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=em(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ib(t,r,e._key,n,new Sb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Ob(e){e=Ny(e,Fy);var t=Ny(e.firestore,vg),n=pg(t),r=new Db(t);return function(e,t){var n=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function r(){return ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=st(ot().mark((function e(t,n,r){var i,a,o,u,s;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(t,n,!0);case 3:i=e.sent,a=new km(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=em(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Tb(t,r,e,n)}))}function Pb(e,t,n){e=Ny(e,Ly);var r=Ny(e.firestore,vg),i=xb(e.converter,t,n);return Mb(r,[Rg(Pg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dl.none())])}function Rb(e,t,n){e=Ny(e,Ly);for(var r=Ny(e.firestore,vg),i=Pg(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Mb(r,[("string"==typeof(t=Mt(t))||t instanceof Sg?zg(i,"updateDoc",e._key,t,n,o):Bg(i,"updateDoc",e._key,t)).toMutation(e._key,Dl.exists(!0))])}function Lb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Mt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||hg(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(hg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Ly)l=Ny(e.firestore,vg),f=Yc(e._key.path),c={next:function(t){n[s]&&n[s](jb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var v=Ny(e,Fy);l=Ny(v.firestore,vg),f=v._query;var p=new Db(l);c={next:function(e){n[s]&&n[s](new Tb(l,p,v,e))},error:n[s+1],complete:n[s+2]},nb(e._query)}return function(e,t,n,r){var i=new qy(r),a=new dm(t,i,n);return e.asyncQueue.enqueueAndForget(st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=om,t.next=3,ug(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sm,t.next=3,ug(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pg(l),f,h,c)}function Fb(e,t){return function(e,t){var n=new qy(t);return e.asyncQueue.enqueueAndForget(st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cu(e).Ru.add(t),t.next()},t.next=3,ug(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cu(e).Ru.delete(t)},t.next=3,ug(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pg(e=Ny(e,vg)),hg(t)?t:{next:t})}function Mb(e,t){return function(e,t){var n=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function r(){return ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Dm,r.next=3,ag(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(pg(e),t)}function jb(e,t,n){var r=n.docs.get(t._key),i=new Db(e);return new Ib(e,i,t._key,r,new Sb(n.hasPendingWrites,n.fromCache),t.converter)}var Vb={maxAttempts:5},Ub=function(){function e(t,n){O(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pg(t)}return L(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Bb(e,this._firestore),i=xb(r.converter,t,n),a=Rg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Dl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Bb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Mt(t))||t instanceof Sg?zg(this._dataReader,"WriteBatch.update",i._key,t,n,o):Bg(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Dl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Bb(e,this._firestore);return this._mutations=this._mutations.concat(new Hl(t._key,Dl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Du(Nu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Bb(e,t){if((e=Mt(e)).firestore!==t)throw new Du(Nu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var zb=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r))._firestore=e,i}return L(n,[{key:"get",value:function(e){var t=this,r=Bb(e,this._firestore),i=new Db(this._firestore);return fr(j(n.prototype),"get",this).call(this,e).then((function(e){return new Ib(t._firestore,i,r._key,e._document,new Sb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){O(this,e),this._firestore=t,this._transaction=n,this._dataReader=Pg(t)}return L(e,[{key:"get",value:function(e){var t=this,n=Bb(e,this._firestore),r=new Eb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _u();var i=e[0];if(i.isFoundDocument())return new Jg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Jg(t._firestore,r,n._key,null,n.converter);throw _u()}))}},{key:"set",value:function(e,t,n){var r=Bb(e,this._firestore),i=xb(r.converter,t,n),a=Rg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Bb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Mt(t))||t instanceof Sg?zg(this._dataReader,"Transaction.update",i._key,t,n,o):Bg(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Bb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jg("arrayUnion",t)}function Kb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bu=e}(Pn),_n(new jt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new vg(new Lu(e.getProvider("auth-internal")),new Vu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Du(Nu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Is(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Vn(yu,"3.8.1",e),Vn(yu,"3.8.1","esm2017")}();function Hb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Du("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Gb(){if("undefined"===typeof Uint8Array)throw new Du("unimplemented","Uint8Arrays are not available in this environment.")}function Wb(){if("undefined"==typeof atob)throw new Du("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Qb=function(){function e(t){O(this,e),this._delegate=t}return L(e,[{key:"toBase64",value:function(){return Wb(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Gb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Wb(),new e(Eg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Gb(),new e(Eg.fromUint8Array(t))}}]),e}();function Zb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var $b=function(){function e(){O(this,e)}return L(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){xg(e=Ny(e,vg));var n=pg(e),r=e._freezeSettings(),i=new Ey;return yg(n,i,new wy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){xg(e=Ny(e,vg));var t=pg(e),n=e._freezeSettings(),r=new Ey;return yg(t,r,new xy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Du(Nu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Au;return e._queue.enqueueAndForgetEvenWhileRestricted(st(ot().mark((function n(){return ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=st(ot().mark((function e(t){var n;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ds.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ds.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Yb=function(){function e(t,n,r){var i=this;O(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Is||(this._appCompat=t)}return L(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Su("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ry(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return gg(this._delegate)}},{key:"disableNetwork",value:function(){return bg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Iy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function n(){return ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Bm,n.next=3,ag(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(pg(e=Ny(e,vg)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Fb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Du("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new fk(this,jy(this._delegate,e))}catch(t){throw rk(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new nk(this,Vy(this._delegate,e))}catch(t){throw rk(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new sk(this,function(e,t){if(e=Ny(e,Py),Sy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Du(Nu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Fy(e,null,function(e){return new Zc(Qu.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw rk(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Ny(e,vg);var r=Object.assign(Object.assign({},Vb),n);return function(e){if(e.maxAttempts<1)throw new Du(Nu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Au;return e.asyncQueue.enqueueAndForget(st(ot().mark((function i(){var a;return ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,og(e);case 2:a=i.sent,new Gy(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(pg(e),(function(n){return t(new zb(e,n))}),r)}(this._delegate,(function(n){return e(new Jb(t,n))}))}},{key:"batch",value:function(){var e=this;return pg(this._delegate),new ek(new Ub(this._delegate,(function(t){return Mb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return kg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return wg(this._delegate,e).then((function(e){return e?new sk(t,e):null}))}}]),e}(),Xb=function(e){M(n,e);var t=K(n);function n(e){var r;return O(this,n),(r=t.call(this)).firestore=e,r}return L(n,[{key:"convertBytes",value:function(e){return new Qb(new Eg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return nk.forKey(t,this.firestore,null)}}]),n}(wb);var Jb=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Xb(t)}return L(e,[{key:"get",value:function(e){var t=this,n=hk(e);return this._delegate.get(n).then((function(e){return new ok(t._firestore,new Ib(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hk(e);return n?(Hb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hk(e);return this._delegate.delete(t),this}}]),e}(),ek=function(){function e(t){O(this,e),this._delegate=t}return L(e,[{key:"set",value:function(e,t,n){var r=hk(e);return n?(Hb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hk(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),tk=function(){function e(t,n,r){O(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return L(e,[{key:"fromFirestore",value:function(e,t){var n=new _b(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uk(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Xb(t),n),i.set(n,a)),a}}]),e}();tk.INSTANCES=new WeakMap;var nk=function(){function e(t,n){O(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Xb(t)}return L(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new fk(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new fk(this.firestore,jy(this._delegate,e))}catch(t){throw rk(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Mt(e))instanceof Ly&&Uy(this._delegate,e)}},{key:"set",value:function(e,t){t=Hb("DocumentReference.set",t);try{return t?Pb(this._delegate,e,t):Pb(this._delegate,e)}catch(n){throw rk(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Rb(this._delegate,e):Rb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw rk(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Mb(Ny(e.firestore,vg),[new Hl(e._key,Dl.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ik(n),a=ak(n,(function(t){return new ok(e.firestore,new Ib(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Lb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ab(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ny(e,Ly);var t=Ny(e.firestore,vg);return cg(pg(t),e._key,{source:"server"}).then((function(n){return jb(t,e,n)}))}(this._delegate):function(e){e=Ny(e,Ly);var t=Ny(e.firestore,vg);return cg(pg(t),e._key).then((function(n){return jb(t,e,n)}))}(this._delegate),t.then((function(e){return new ok(n.firestore,new Ib(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(tk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Du("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ly(n._delegate,r,new Yu(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ly(n._delegate,r,t))}}]),e}();function rk(e,t,n){return e.message=e.message.replace(t,n),e}function ik(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Zb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ak(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Zb(e[0])?e[0]:Zb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ok=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n}return L(e,[{key:"ref",get:function(){return new nk(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Nb(this._delegate,e._delegate)}}]),e}(),uk=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||_u()}(void 0!==t),t}}]),n}(ok),sk=function(){function e(t,n){O(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Xb(t)}return L(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ab(this._delegate,function(e,t,n){var r=t,i=tb("where",e);return ob._create(i,r,n)}(t,n,r)))}catch(i){throw rk(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ab(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=tb("orderBy",e);return sb._create(r,n)}(t,n)))}catch(r){throw rk(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ab(this._delegate,function(e){return Dy("limit",e),cb._create("limit",e,"F")}(t)))}catch(n){throw rk(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ab(this._delegate,function(e){return Dy("limitToLast",e),cb._create("limitToLast",e,"L")}(t)))}catch(n){throw rk(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ab(this._delegate,fb.apply(void 0,arguments)))}catch(t){throw rk(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ab(this._delegate,hb.apply(void 0,arguments)))}catch(t){throw rk(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ab(this._delegate,vb.apply(void 0,arguments)))}catch(t){throw rk(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ab(this._delegate,pb.apply(void 0,arguments)))}catch(t){throw rk(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return By(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ob(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ny(e,Fy);var t=Ny(e.firestore,vg),n=pg(t),r=new Db(t);return lg(n,e._query,{source:"server"}).then((function(n){return new Tb(t,r,e,n)}))}(this._delegate):function(e){e=Ny(e,Fy);var t=Ny(e.firestore,vg),n=pg(t),r=new Db(t);return nb(e._query),lg(n,e._query).then((function(n){return new Tb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new lk(n.firestore,new Tb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ik(n),a=ak(n,(function(t){return new lk(e.firestore,new Tb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Lb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(tk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ck=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n}return L(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new uk(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),lk=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n}return L(e,[{key:"query",get:function(){return new sk(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new uk(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ck(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new uk(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Nb(this._delegate,e._delegate)}}]),e}(),fk=function(e){M(n,e);var t=K(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return L(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new nk(this.firestore,e):null}},{key:"doc",value:function(e){try{return new nk(this.firestore,void 0===e?Vy(this._delegate):Vy(this._delegate,e))}catch(t){throw rk(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ny(e.firestore,vg),r=Vy(e),i=xb(e.converter,t);return Mb(n,[Rg(Pg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new nk(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Uy(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(tk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(sk);function hk(e){return Ny(e,Ly)}var dk,vk=function(){function e(){O(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Q(Sg,n)}return L(e,[{key:"isEqual",value:function(e){return(e=Mt(e))instanceof Sg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e($u.keyField().canonicalString())}}]),e}(),pk=function(){function e(t){O(this,e),this._delegate=t}return L(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Mg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Lg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=qb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Kb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ug("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),mk={Firestore:Yb,GeoPoint:_g,Timestamp:Hu,Blob:Qb,Transaction:Jb,WriteBatch:ek,DocumentReference:nk,DocumentSnapshot:ok,Query:sk,QueryDocumentSnapshot:uk,QuerySnapshot:lk,CollectionReference:fk,FieldPath:vk,FieldValue:pk,setLogLevel:function(e){!function(e){ku.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new jt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mk)))})(dk=cr,(function(e,t){return new Yb(e,t,new $b)})),dk.registerVersion("@firebase/firestore-compat","0.3.1");var yk=cr.initializeApp({apiKey:"AIzaSyCJMr0yfjCDphXSTJqomnnU9m48z2MZpXw",authDomain:"file-management-app-c25f6.firebaseapp.com",projectId:"file-management-app-c25f6",storageBucket:"file-management-app-c25f6.appspot.com",messagingSenderId:"604293020361",appId:"1:604293020361:web:30ef41056c82ad51552b18"}),gk=yk,bk=function(e){return{type:ft,payload:e}},kk=function(e){return function(t){t({type:ht,payload:e})}},wk={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},xk=wk,Ek={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H181.5c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},Sk={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H298.5c-17 0-33.3-6.7-45.3-18.7L226.7 50.7c-12-12-28.3-18.7-45.3-18.7H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},Ik={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},_k=Ik,Tk={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},Ck=Tk,Nk={prefix:"fas",iconName:"file-circle-plus",icon:[576,512,[58606],"e494","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384v38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zm48 384c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm16-208c0-8.8-7.2-16-16-16s-16 7.2-16 16v48H368c-8.8 0-16 7.2-16 16s7.2 16 16 16h48v48c0 8.8 7.2 16 16 16s16-7.2 16-16V384h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H448V304z"]};function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dk(Object(n),!0).forEach((function(t){Rk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ok(e){return Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ok(e)}function Pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||Mk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fk(e){return function(e){if(Array.isArray(e))return jk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mk(e,t){if(e){if("string"===typeof e)return jk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jk(e,t):void 0}}function jk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vk=function(){},Uk={},Bk={},zk=null,qk={mark:Vk,measure:Vk};try{"undefined"!==typeof window&&(Uk=window),"undefined"!==typeof document&&(Bk=document),"undefined"!==typeof MutationObserver&&(zk=MutationObserver),"undefined"!==typeof performance&&(qk=performance)}catch(AT){}var Kk,Hk,Gk,Wk,Qk,Zk=(Uk.navigator||{}).userAgent,$k=void 0===Zk?"":Zk,Yk=Uk,Xk=Bk,Jk=zk,ew=qk,tw=(Yk.document,!!Xk.documentElement&&!!Xk.head&&"function"===typeof Xk.addEventListener&&"function"===typeof Xk.createElement),nw=~$k.indexOf("MSIE")||~$k.indexOf("Trident/"),rw="___FONT_AWESOME___",iw="svg-inline--fa",aw="data-fa-i2svg",ow="data-fa-pseudo-element",uw="data-prefix",sw="data-icon",cw="fontawesome-i2svg",lw=["HTML","HEAD","STYLE","SCRIPT"],fw=function(){try{return!0}catch(AT){return!1}}(),hw="classic",dw="sharp",vw=[hw,dw];function pw(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[hw]}})}var mw=pw((Rk(Kk={},hw,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Rk(Kk,dw,{fa:"solid",fass:"solid","fa-solid":"solid"}),Kk)),yw=pw((Rk(Hk={},hw,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Rk(Hk,dw,{solid:"fass"}),Hk)),gw=pw((Rk(Gk={},hw,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Rk(Gk,dw,{fass:"fa-solid"}),Gk)),bw=pw((Rk(Wk={},hw,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Rk(Wk,dw,{"fa-solid":"fass"}),Wk)),kw=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,ww="fa-layers-text",xw=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Ew=pw((Rk(Qk={},hw,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Rk(Qk,dw,{900:"fass"}),Qk)),Sw=[1,2,3,4,5,6,7,8,9,10],Iw=Sw.concat([11,12,13,14,15,16,17,18,19,20]),_w=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Tw="duotone-group",Cw="swap-opacity",Nw="primary",Dw="secondary",Aw=new Set;Object.keys(yw[hw]).map(Aw.add.bind(Aw)),Object.keys(yw[dw]).map(Aw.add.bind(Aw));var Ow=[].concat(vw,Fk(Aw),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Tw,Cw,Nw,Dw]).concat(Sw.map((function(e){return"".concat(e,"x")}))).concat(Iw.map((function(e){return"w-".concat(e)}))),Pw=Yk.FontAwesomeConfig||{};if(Xk&&"function"===typeof Xk.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Lk(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Xk.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Pw[r]=i)}))}var Rw={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:iw,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Pw.familyPrefix&&(Pw.cssPrefix=Pw.familyPrefix);var Lw=Ak(Ak({},Rw),Pw);Lw.autoReplaceSvg||(Lw.observeMutations=!1);var Fw={};Object.keys(Rw).forEach((function(e){Object.defineProperty(Fw,e,{enumerable:!0,set:function(t){Lw[e]=t,Mw.forEach((function(e){return e(Fw)}))},get:function(){return Lw[e]}})})),Object.defineProperty(Fw,"familyPrefix",{enumerable:!0,set:function(e){Lw.cssPrefix=e,Mw.forEach((function(e){return e(Fw)}))},get:function(){return Lw.cssPrefix}}),Yk.FontAwesomeConfig=Fw;var Mw=[];var jw=16,Vw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Uw(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Bw(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function zw(e){return e.classList?Bw(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function qw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Kw(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Hw(e){return e.size!==Vw.size||e.x!==Vw.x||e.y!==Vw.y||e.rotate!==Vw.rotate||e.flipX||e.flipY}function Gw(){var e="fa",t=iw,n=Fw.cssPrefix,r=Fw.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var Ww=!1;function Qw(){Fw.autoAddCss&&!Ww&&(!function(e){if(e&&tw){var t=Xk.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Xk.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}Xk.head.insertBefore(t,r)}}(Gw()),Ww=!0)}var Zw={mixout:function(){return{dom:{css:Gw,insertCss:Qw}}},hooks:function(){return{beforeDOMElementCreation:function(){Qw()},beforeI2svg:function(){Qw()}}}},$w=Yk||{};$w[rw]||($w[rw]={}),$w[rw].styles||($w[rw].styles={}),$w[rw].hooks||($w[rw].hooks={}),$w[rw].shims||($w[rw].shims=[]);var Yw=$w[rw],Xw=[],Jw=!1;function ex(e){tw&&(Jw?setTimeout(e,0):Xw.push(e))}function tx(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?qw(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(qw(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(tx).join(""),"</").concat(t,">")}function nx(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}tw&&((Jw=(Xk.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xk.readyState))||Xk.addEventListener("DOMContentLoaded",(function e(){Xk.removeEventListener("DOMContentLoaded",e),Jw=1,Xw.map((function(e){return e()}))})));var rx=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function ix(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function ax(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function ox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=ax(t);"function"!==typeof Yw.hooks.addPack||i?Yw.styles[e]=Ak(Ak({},Yw.styles[e]||{}),a):Yw.hooks.addPack(e,ax(t)),"fas"===e&&ox("fa",t)}var ux,sx,cx,lx=Yw.styles,fx=Yw.shims,hx=(Rk(ux={},hw,Object.values(gw[hw])),Rk(ux,dw,Object.values(gw[dw])),ux),dx=null,vx={},px={},mx={},yx={},gx={},bx=(Rk(sx={},hw,Object.keys(mw[hw])),Rk(sx,dw,Object.keys(mw[dw])),sx);function kx(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~Ow.indexOf(n))?null:a}var wx=function(){var e=function(e){return rx(lx,(function(t,n,r){return t[r]=rx(n,e,{}),t}),{})};vx=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),px=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),gx=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in lx||Fw.autoFetchSvg,n=rx(fx,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});mx=n.names,yx=n.unicodes,dx=_x(Fw.styleDefault,{family:Fw.familyDefault})};function xx(e,t){return(vx[e]||{})[t]}function Ex(e,t){return(gx[e]||{})[t]}function Sx(e){return mx[e]||{prefix:null,iconName:null}}function Ix(){return dx}!function(e){Mw.push(e)}((function(e){dx=_x(e.styleDefault,{family:Fw.familyDefault})})),wx();function _x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,r=void 0===n?hw:n,i=mw[r][e],a=yw[r][e]||yw[r][i],o=e in Yw.styles?e:null;return a||o||null}var Tx=(Rk(cx={},hw,Object.keys(gw[hw])),Rk(cx,dw,Object.keys(gw[dw])),cx);function Cx(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipLookups,i=void 0!==r&&r,a=(Rk(t={},hw,"".concat(Fw.cssPrefix,"-").concat(hw)),Rk(t,dw,"".concat(Fw.cssPrefix,"-").concat(dw)),t),o=null,u=hw;(e.includes(a[hw])||e.some((function(e){return Tx[hw].includes(e)})))&&(u=hw),(e.includes(a[dw])||e.some((function(e){return Tx[dw].includes(e)})))&&(u=dw);var s=e.reduce((function(e,t){var n=kx(Fw.cssPrefix,t);if(lx[t]?(t=hx[u].includes(t)?bw[u][t]:t,o=t,e.prefix=t):bx[u].indexOf(t)>-1?(o=t,e.prefix=_x(t,{family:u})):n?e.iconName=n:t!==Fw.replacementClass&&t!==a[hw]&&t!==a[dw]&&e.rest.push(t),!i&&e.prefix&&e.iconName){var r="fa"===o?Sx(e.iconName):{},s=Ex(e.prefix,e.iconName);r.prefix&&(o=null),e.iconName=r.iconName||s||e.iconName,e.prefix=r.prefix||e.prefix,"far"!==e.prefix||lx.far||!lx.fas||Fw.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||u!==dw||!lx.fass&&!Fw.autoFetchSvg||(s.prefix="fass",s.iconName=Ex(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==o||(s.prefix=Ix()||"fas"),s}var Nx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Ak(Ak({},e.definitions[t]||{}),i[t]),ox(t,i[t]);var n=gw[hw][t];n&&ox(n,i[t]),wx()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&Pk(t.prototype,n),r&&Pk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Dx=[],Ax={},Ox={},Px=Object.keys(Ox);function Rx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=Ax[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Lx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ax[e]||[];i.forEach((function(e){e.apply(null,n)}))}function Fx(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ox[e]?Ox[e].apply(null,t):void 0}function Mx(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Ix();if(t)return t=Ex(n,t)||t,nx(jx.definitions,n,t)||nx(Yw.styles,n,t)}var jx=new Nx,Vx={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tw?(Lx("beforeI2svg",e),Fx("pseudoElements2svg",e),Fx("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Fw.autoReplaceSvg&&(Fw.autoReplaceSvg=!0),Fw.observeMutations=!0,ex((function(){zx({autoReplaceSvgRoot:t}),Lx("watch",e)}))}},Ux={icon:function(e){if(null===e)return null;if("object"===Ok(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ex(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=_x(e[0]);return{prefix:n,iconName:Ex(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Fw.cssPrefix,"-"))>-1||e.match(kw))){var r=Cx(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Ix(),iconName:Ex(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Ix();return{prefix:i,iconName:Ex(i,e)||e}}}},Bx={noAuto:function(){Fw.autoReplaceSvg=!1,Fw.observeMutations=!1,Lx("noAuto")},config:Fw,dom:Vx,parse:Ux,library:jx,findIconDefinition:Mx,toHtml:tx},zx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?Xk:t;(Object.keys(Yw.styles).length>0||Fw.autoFetchSvg)&&tw&&Fw.autoReplaceSvg&&Bx.dom.i2svg({node:n})};function qx(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return tx(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(tw){var t=Xk.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Kx(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,v=r.found?r:n,p=v.width,m=v.height,y="fak"===i,g=[Fw.replacementClass,a?"".concat(Fw.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:Ak(Ak({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})},k=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/m*16*.0625,"em")}:{};d&&(b.attributes[aw]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||Uw())},children:[s]}),delete b.attributes.title);var w=Ak(Ak({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:Ak(Ak({},k),f.styles)}),x=r.found&&n.found?Fx("generateAbstractMask",w)||{children:[],attributes:{}}:Fx("generateAbstractIcon",w)||{children:[],attributes:{}},E=x.children,S=x.attributes;return w.children=E,w.attributes=S,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(Fw.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ak(Ak({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Hw(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=Kw(Ak(Ak({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function Hx(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=Ak(Ak(Ak({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[aw]="");var l=Ak({},o.styles);Hw(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&nw?"translate(".concat(t.x/jw-r/2,"em, ").concat(t.y/jw-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/jw,"em), calc(-50% + ").concat(t.y/jw,"em)) "):"translate(".concat(t.x/jw,"em, ").concat(t.y/jw,"em) "),s+="scale(".concat(t.size/jw*(t.flipX?-1:1),", ").concat(t.size/jw*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=Kw(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function Gx(e){var t=e.content,n=e.title,r=e.extra,i=Ak(Ak(Ak({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Kw(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Wx=Yw.styles;function Qx(e){var t=e[0],n=e[1],r=Lk(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Fw.cssPrefix,"-").concat(Tw)},children:[{tag:"path",attributes:{class:"".concat(Fw.cssPrefix,"-").concat(Dw),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Fw.cssPrefix,"-").concat(Nw),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Zx={found:!1,width:512,height:512};function $x(e,t){var n=t;return"fa"===t&&null!==Fw.styleDefault&&(t=Ix()),new Promise((function(r,i){Fx("missingIconAbstract");if("fa"===n){var a=Sx(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Wx[t]&&Wx[t][e])return r(Qx(Wx[t][e]));!function(e,t){fw||Fw.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Ak(Ak({},Zx),{},{icon:Fw.showMissingIcons&&e&&Fx("missingIconAbstract")||{}}))}))}var Yx=function(){},Xx=Fw.measurePerformance&&ew&&ew.mark&&ew.measure?ew:{mark:Yx,measure:Yx},Jx='FA "6.2.1"',eE=function(e){Xx.mark("".concat(Jx," ").concat(e," ends")),Xx.measure("".concat(Jx," ").concat(e),"".concat(Jx," ").concat(e," begins"),"".concat(Jx," ").concat(e," ends"))},tE=function(e){return Xx.mark("".concat(Jx," ").concat(e," begins")),function(){return eE(e)}},nE=function(){};function rE(e){return"string"===typeof(e.getAttribute?e.getAttribute(aw):null)}function iE(e){return Xk.createElementNS("http://www.w3.org/2000/svg",e)}function aE(e){return Xk.createElement(e)}function oE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?iE:aE:n;if("string"===typeof e)return Xk.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(oE(e,{ceFn:r}))})),i}var uE={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(oE(e),t)})),null===t.getAttribute(aw)&&Fw.keepOriginalSource){var n=Xk.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~zw(t).indexOf(Fw.replacementClass))return uE.replace(e);var r=new RegExp("".concat(Fw.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Fw.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return tx(e)})).join("\n");t.setAttribute(aw,""),t.innerHTML=a}};function sE(e){e()}function cE(e,t){var n="function"===typeof t?t:nE;if(0===e.length)n();else{var r=sE;"async"===Fw.mutateApproach&&(r=Yk.requestAnimationFrame||sE),r((function(){var t=!0===Fw.autoReplaceSvg?uE.replace:uE[Fw.autoReplaceSvg]||uE.replace,r=tE("mutate");e.map(t),r(),n()}))}}var lE=!1;function fE(){lE=!0}function hE(){lE=!1}var dE=null;function vE(e){if(Jk&&Fw.observeMutations){var t=e.treeCallback,n=void 0===t?nE:t,r=e.nodeCallback,i=void 0===r?nE:r,a=e.pseudoElementsCallback,o=void 0===a?nE:a,u=e.observeMutationsRoot,s=void 0===u?Xk:u;dE=new Jk((function(e){if(!lE){var t=Ix();Bw(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!rE(e.addedNodes[0])&&(Fw.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Fw.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&rE(e.target)&&~_w.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(uw):null,n=e.getAttribute?e.getAttribute(sw):null;return t&&n}(e.target)){var r=Cx(zw(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(uw,a||t),u&&e.target.setAttribute(sw,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(Fw.replacementClass)&&i(e.target);var s}))}})),tw&&dE.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function pE(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function mE(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Cx(zw(e));return i.prefix||(i.prefix=Ix()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(px[e]||{})[t]}(i.prefix,e.innerText)||xx(i.prefix,ix(e.innerText))),!i.iconName&&Fw.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function yE(e){var t=Bw(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Fw.autoA11y&&(n?t["aria-labelledby"]="".concat(Fw.replacementClass,"-title-").concat(r||Uw()):(t["aria-hidden"]="true",t.focusable="false")),t}function gE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=mE(e),r=n.iconName,i=n.prefix,a=n.rest,o=yE(e),u=Rx("parseNodeAttributes",{},e),s=t.styleParser?pE(e):[];return Ak({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Vw,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var bE=Yw.styles;function kE(e){var t="nest"===Fw.autoReplaceSvg?gE(e,{styleParser:!1}):gE(e);return~t.extra.classes.indexOf(ww)?Fx("generateLayersText",e,t):Fx("generateSvgReplacementMutation",e,t)}var wE=new Set;function xE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!tw)return Promise.resolve();var n=Xk.documentElement.classList,r=function(e){return n.add("".concat(cw,"-").concat(e))},i=function(e){return n.remove("".concat(cw,"-").concat(e))},a=Fw.autoFetchSvg?wE:vw.map((function(e){return"fa-".concat(e)})).concat(Object.keys(bE));a.includes("fa")||a.push("fa");var o=[".".concat(ww,":not([").concat(aw,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(aw,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=Bw(e.querySelectorAll(o))}catch(AT){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=tE("onTree"),c=u.reduce((function(e,t){try{var n=kE(t);n&&e.push(n)}catch(AT){fw||"MissingIcon"===AT.name&&console.error(AT)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){cE(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function EE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;kE(e).then((function(e){e&&cE([e],t)}))}vw.map((function(e){wE.add("fa-".concat(e))})),Object.keys(mw[hw]).map(wE.add.bind(wE)),Object.keys(mw[dw]).map(wE.add.bind(wE)),wE=Fk(wE);var SE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Vw:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,v=t.classes,p=void 0===v?[]:v,m=t.attributes,y=void 0===m?{}:m,g=t.styles,b=void 0===g?{}:g;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return qx(Ak({type:"icon"},e),(function(){return Lx("beforeDOMElementCreation",{iconDefinition:e,params:t}),Fw.autoA11y&&(f?y["aria-labelledby"]="".concat(Fw.replacementClass,"-title-").concat(d||Uw()):(y["aria-hidden"]="true",y.focusable="false")),Kx({icons:{main:Qx(x),mask:u?Qx(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:Ak(Ak({},Vw),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:b,classes:p}})}))}},IE={mixout:function(){return{icon:(e=SE,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Mx(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Mx(i||{})),e(r,Ak(Ak({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=xE,e.nodeCallback=EE,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Xk:t,r=e.callback;return xE(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([$x(n,a),s.iconName?$x(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=Lk(s,2),h=f[0],d=f[1];t([e,Kx({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=Kw(e.styles);return o.length>0&&(r.style=o),Hw(a)&&(t=Fx("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},_E={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return qx({type:"layer"},(function(){Lx("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Fw.cssPrefix,"-layers")].concat(Fk(r)).join(" ")},children:n}]}))}}}},TE={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return qx({type:"counter",content:e},(function(){return Lx("beforeDOMElementCreation",{content:e,params:t}),Gx({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(Fw.cssPrefix,"-layers-counter")].concat(Fk(a))}})}))}}}},CE={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Vw:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return qx({type:"text",content:e},(function(){return Lx("beforeDOMElementCreation",{content:e,params:t}),Hx({content:e,transform:Ak(Ak({},Vw),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(Fw.cssPrefix,"-layers-text")].concat(Fk(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(nw){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return Fw.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Hx({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},NE=new RegExp('"',"ug"),DE=[1105920,1112319];function AE(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=Bw(e.children).filter((function(e){return e.getAttribute(ow)===t}))[0],o=Yk.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(xw),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Sharp"].indexOf(u[2])?dw:hw,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?yw[f][u[2].toLowerCase()]:Ew[f][s],d=function(e){var t=e.replace(NE,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=DE[0]&&n<=DE[1],i=2===t.length&&t[0]===t[1];return{value:ix(i?t[0]:t),isSecondary:r||i}}(l),v=d.value,p=d.isSecondary,m=u[0].startsWith("FontAwesome"),y=xx(h,v),g=y;if(m){var b=function(e){var t=yx[e],n=xx("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(v);b.iconName&&b.prefix&&(y=b.iconName,h=b.prefix)}if(!y||p||a&&a.getAttribute(uw)===h&&a.getAttribute(sw)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:Vw,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=k.extra;w.attributes[ow]=t,$x(y,h).then((function(i){var a=Kx(Ak(Ak({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:g,extra:w,watchable:!0})),o=Xk.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return tx(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function OE(e){return Promise.all([AE(e,"::before"),AE(e,"::after")])}function PE(e){return e.parentNode!==document.head&&!~lw.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(ow)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function RE(e){if(tw)return new Promise((function(t,n){var r=Bw(e.querySelectorAll("*")).filter(PE).map(OE),i=tE("searchPseudoElements");fE(),Promise.all(r).then((function(){i(),hE(),t()})).catch((function(){i(),hE(),n()}))}))}var LE=!1,FE=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ME={mixout:function(){return{parse:{transform:function(e){return FE(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=FE(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Ak({},c.outer),children:[{tag:"g",attributes:Ak({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Ak(Ak({},t.icon.attributes),c.path)}]}]}}}},jE={x:0,y:0,width:"100%",height:"100%"};function VE(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var UE={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Cx(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Ix()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:Ak(Ak({},jE),{},{fill:"white"})},v=c.children?{children:c.children.map(VE)}:{},p={tag:"g",attributes:Ak({},h.inner),children:[VE(Ak({tag:c.tag,attributes:Ak(Ak({},c.attributes),h.path)},v))]},m={tag:"g",attributes:Ak({},h.outer),children:[p]},y="mask-".concat(o||Uw()),g="clip-".concat(o||Uw()),b={tag:"mask",attributes:Ak(Ak({},jE),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:Ak({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},jE)}),{children:n,attributes:r}}}},BE={provides:function(e){var t=!1;Yk.matchMedia&&(t=Yk.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Ak(Ak({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Ak(Ak({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Ak(Ak({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Ak(Ak({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ak(Ak({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Ak(Ak({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ak(Ak({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Ak(Ak({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ak(Ak({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Dx=e,Ax={},Object.keys(Ox).forEach((function(e){-1===Px.indexOf(e)&&delete Ox[e]})),Dx.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===Ok(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Ax[e]||(Ax[e]=[]),Ax[e].push(r[e])}))}e.provides&&e.provides(Ox)}))}([Zw,IE,_E,TE,CE,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=RE,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Xk:t;Fw.searchPseudoElements&&RE(n)}}},{mixout:function(){return{dom:{unwatch:function(){fE(),LE=!0}}}},hooks:function(){return{bootstrap:function(){vE(Rx("mutationObserverCallbacks",{}))},noAuto:function(){dE&&dE.disconnect()},watch:function(e){var t=e.observeMutationsRoot;LE?hE():vE(Rx("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},ME,UE,BE,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:Bx});var zE=Bx.parse,qE=Bx.icon,KE=n(7),HE=n.n(KE);function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GE(Object(n),!0).forEach((function(t){ZE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QE(e){return QE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QE(e)}function ZE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YE(e){return function(e){if(Array.isArray(e))return XE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return XE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JE(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var eS=["style"];function tS(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=JE(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var nS=!1;try{nS=!0}catch(AT){}function rS(e){return e&&"object"===QE(e)&&e.prefix&&e.iconName&&e.icon?e:zE.icon?zE.icon(e):null===e?null:e&&"object"===QE(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function iS(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ZE({},e,t):{}}var aS=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,u=e.titleId,s=e.maskId,c=rS(n),l=iS("classes",[].concat(YE(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,v=e.border,p=e.listItem,m=e.flip,y=e.size,g=e.rotation,b=e.pull,k=(ZE(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":v,"fa-li":p,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),ZE(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),ZE(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),ZE(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),YE(a.split(" ")))),f=iS("transform","string"===typeof e.transform?zE.transform(e.transform):e.transform),h=iS("mask",rS(r)),d=qE(c,WE(WE(WE(WE({},l),f),h),{},{symbol:i,title:o,titleId:u,maskId:s}));if(!d)return function(){var e;!nS&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var v=d.abstract,p={ref:t};return Object.keys(e).forEach((function(t){aS.defaultProps.hasOwnProperty(t)||(p[t]=e[t])})),oS(v[0],p)}));aS.displayName="FontAwesomeIcon",aS.propTypes={beat:HE().bool,border:HE().bool,beatFade:HE().bool,bounce:HE().bool,className:HE().string,fade:HE().bool,flash:HE().bool,mask:HE().oneOfType([HE().object,HE().array,HE().string]),maskId:HE().string,fixedWidth:HE().bool,inverse:HE().bool,flip:HE().oneOf([!0,!1,"horizontal","vertical","both"]),icon:HE().oneOfType([HE().object,HE().array,HE().string]),listItem:HE().bool,pull:HE().oneOf(["right","left"]),pulse:HE().bool,rotation:HE().oneOf([0,90,180,270]),shake:HE().bool,size:HE().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:HE().bool,spinPulse:HE().bool,spinReverse:HE().bool,symbol:HE().oneOfType([HE().bool,HE().string]),title:HE().string,titleId:HE().string,transform:HE().oneOfType([HE().string,HE().object]),swapOpacity:HE().bool},aS.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var oS=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=tS(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[JE(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=$E(r,eS);return a.attrs.style=WE(WE({},a.attrs.style),u),t.apply(void 0,[n.tag,WE(WE({},a.attrs),s)].concat(YE(i)))}.bind(null,t.createElement),uS=n(184);var sS=function(e){var t=e.title,n=e.items,r=e.type,i=Ke(),a=I();return(0,uS.jsxs)("div",{children:[(0,uS.jsx)("h4",{className:"text-center border-bottom",children:t}),(0,uS.jsx)("div",{className:"row gap-2 py-4 px-5",children:n.map((function(e,t){return(0,uS.jsxs)("p",{className:"col-md-2 border p-2 text-center d-flex flex-column",onDoubleClick:function(){return t=e.docId,void("folder"===r?(a(kk(t)),i("/home/folder/".concat(t))):alert("sdgajkfs"));var t},children:["folder"===r?(0,uS.jsx)(aS,{icon:Sk,size:"4x",className:"mb-3"}):(0,uS.jsx)(aS,{icon:xk,size:"4x",className:"mb-3"}),e.data.name]},55*t)}))})]})},cS=function(){var e=m((function(e){return{isLoading:e.filefolder.isLoading,Folders:e.filefolder.Folders.filter((function(e){return"root"===e.data.parent}))}}),T),t=e.isLoading,n=e.Folders;return(0,uS.jsx)("div",{children:t?(0,uS.jsx)("h1",{children:" Wait...."}):(0,uS.jsx)("div",{children:(0,uS.jsx)(sS,{title:"Folders",type:"folder",items:n})})})};function lS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function fS(e,t){if(null==e)return{};var n,r,i=lS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hS=n(694),dS=n.n(hS),vS=!("undefined"===typeof window||!window.document||!window.document.createElement),pS=!1,mS=!1;try{var yS={get passive(){return pS=!0},get once(){return mS=pS=!0}};vS&&(window.addEventListener("test",yS,yS),window.removeEventListener("test",yS,!0))}catch(AT){}var gS=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!mS){var i=r.once,a=r.capture,o=n;!mS&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,pS?r:a)}e.addEventListener(t,n,r)};function bS(e){return e&&e.ownerDocument||document}var kS,wS=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function xS(e){if((!kS&&0!==kS||e)&&vS){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),kS=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return kS}var ES=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function SS(e){var n=ES(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var IS=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var _S=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=IS(e),r=IS(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};function TS(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function CS(e,t){return function(e){var t=bS(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var NS=/([A-Z])/g;var DS=/^ms-/;function AS(e){return function(e){return e.replace(NS,"-$1").toLowerCase()}(e).replace(DS,"-ms-")}var OS=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var PS=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(AS(t))||CS(e).getPropertyValue(AS(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!OS.test(e))}(i)?n+=AS(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(AS(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var RS=function(e,t,n,r){return gS(e,t,n,r),function(){wS(e,t,n,r)}};function LS(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=RS(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function FS(e,t,n,r){null==n&&(n=function(e){var t=PS(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=LS(e,n,r),a=RS(e,"transitionend",t);return function(){i(),a()}}function MS(e){void 0===e&&(e=bS());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(AT){return e.body}}function jS(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var VS,US=(VS="modal-open","".concat("data-rr-ui-").concat(VS)),BS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;O(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return L(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=(0,dt.Z)({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(PS(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(US,""),PS(r,t)}},{key:"reset",value:function(){var e=this;A(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(US),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),zS=BS,qS=(0,t.createContext)(vS?window:void 0);qS.Provider;function KS(){return(0,t.useContext)(qS)}var HS=function(e,t){return vS?null==e?(t||bS()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var GS=function(e){var n=e.children,r=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,u=(0,t.useRef)(null),s=(0,t.useRef)(r),c=SS(i);(0,t.useEffect)((function(){r?s.current=!0:c(u.current)}),[r,c]);var l=_S(u,n.ref),f=(0,t.cloneElement)(n,{ref:l});return r?f:o||!s.current&&a?null:f};function WS(e){var n=e.children,r=e.in,i=e.onExited,a=e.onEntered,o=e.transition,u=W((0,t.useState)(!r),2),s=u[0],c=u[1];r&&s&&c(!1);var l=function(e){var n=e.in,r=e.onTransition,i=(0,t.useRef)(null),a=(0,t.useRef)(!0),o=SS(r);return(0,t.useEffect)((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),(0,t.useEffect)((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),f=_S(l,n.ref);return s&&!r?null:(0,t.cloneElement)(n,{ref:f})}function QS(e,t,n){return e?(0,uS.jsx)(e,Object.assign({},n)):t?(0,uS.jsx)(WS,Object.assign({},n,{transition:t})):(0,uS.jsx)(GS,Object.assign({},n))}var ZS,$S=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function YS(e){var n=KS(),r=e||function(e){return ZS||(ZS=new zS({ownerDocument:null==e?void 0:e.document})),ZS}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var XS=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,s=e.className,c=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,v=void 0===d||d,p=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.runTransition,b=e.backdropTransition,k=e.runBackdropTransition,w=e.autoFocus,x=void 0===w||w,E=e.enforceFocus,S=void 0===E||E,I=e.restoreFocus,_=void 0===I||I,T=e.restoreFocusOptions,C=e.renderDialog,N=e.renderBackdrop,D=void 0===N?function(e){return(0,uS.jsx)("div",Object.assign({},e))}:N,A=e.manager,O=e.container,P=e.onShow,R=e.onHide,L=void 0===R?function(){}:R,F=e.onExit,M=e.onExited,j=e.onExiting,V=e.onEnter,U=e.onEntering,B=e.onEntered,z=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$S),q=function(e,n){var r=KS(),i=W((0,t.useState)((function(){return HS(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=HS(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=HS(e);t!==a&&o(t)}),[e,a]),a}(O),K=YS(A),H=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),G=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),Q=W((0,t.useState)(!i),2),Z=Q[0],$=Q[1],Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return K}),[K]),vS&&!G&&i&&(Y.current=MS()),i&&Z&&$(!1);var X=SS((function(){if(K.add(),ie.current=RS(document,"keydown",ne),re.current=RS(document,"focus",(function(){return setTimeout(ee)}),!0),P&&P(),x){var e=MS(document);K.dialog&&e&&!jS(K.dialog,e)&&(Y.current=e,K.dialog.focus())}})),J=SS((function(){var e;(K.remove(),null==ie.current||ie.current(),null==re.current||re.current(),_)&&(null==(e=Y.current)||null==e.focus||e.focus(T),Y.current=null)}));(0,t.useEffect)((function(){i&&q&&X()}),[i,q,X]),(0,t.useEffect)((function(){Z&&J()}),[Z,J]),TS((function(){J()}));var ee=SS((function(){if(S&&H()&&K.isTopModal()){var e=MS();K.dialog&&e&&!jS(K.dialog,e)&&K.dialog.focus()}})),te=SS((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===h&&L())})),ne=SS((function(e){v&&27===e.keyCode&&K.isTopModal()&&(null==m||m(e),e.defaultPrevented||L())})),re=(0,t.useRef)(),ie=(0,t.useRef)();if(!q)return null;var ae=Object.assign({role:o,ref:K.setDialogRef,"aria-modal":"dialog"===o||void 0},z,{style:c,className:s,tabIndex:-1}),oe=C?C(ae):(0,uS.jsx)("div",Object.assign({},ae,{children:t.cloneElement(l,{role:"document"})}));oe=QS(y,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:F,onExiting:j,onExited:function(){$(!0),null==M||M.apply(void 0,arguments)},onEnter:V,onEntering:U,onEntered:B,children:oe});var ue=null;return h&&(ue=D({ref:K.setBackdropRef,onClick:te}),ue=QS(b,k,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ue})),(0,uS.jsx)(uS.Fragment,{children:u.createPortal((0,uS.jsxs)(uS.Fragment,{children:[ue,oe]}),q)})}));XS.displayName="Modal";var JS=Object.assign(XS,{Manager:zS});var eI=Function.prototype.bind.call(Function.prototype.call,[].slice);function tI(e,t){return eI(e.querySelectorAll(t))}function nI(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var rI,iI=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",aI=".sticky-top",oI=".navbar-toggler",uI=function(e){M(n,e);var t=K(n);function n(){return O(this,n),t.apply(this,arguments)}return L(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,PS(t,(0,dt.Z)({},e,"".concat(parseFloat(PS(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],PS(t,(0,dt.Z)({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;fr(j(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";tI(a,iI).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),tI(a,aI).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),tI(a,oI).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;fr(j(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=nI(r.className,i):r.setAttribute("class",nI(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";tI(a,iI).forEach((function(e){return t.restore(o,e)})),tI(a,aI).forEach((function(e){return t.restore(u,e)})),tI(a,oI).forEach((function(e){return t.restore(u,e)}))}}]),n}(zS);var sI=!1,cI=t.createContext(null),lI="unmounted",fI="exited",hI="entering",dI="entered",vI="exiting",pI=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=fI,r.appearStatus=hI):i=dI:i=t.unmountOnExit||t.mountOnEnter?lI:fI,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,F(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===lI?{status:fI}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==hI&&n!==dI&&(t=hI):n!==hI&&n!==dI||(t=vI)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===hI){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fI&&this.setState({status:lI})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||sI?this.safeSetState({status:dI},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:hI},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:dI},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.findDOMNode(this);t&&!sI?(this.props.onExit(r),this.safeSetState({status:vI},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:fI},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:fI},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===lI)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,lS(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(cI.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function mI(){}pI.contextType=cI,pI.propTypes={},pI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mI,onEntering:mI,onEntered:mI,onExit:mI,onExiting:mI,onExited:mI},pI.UNMOUNTED=lI,pI.EXITED=fI,pI.ENTERING=hI,pI.ENTERED=dI,pI.EXITING=vI;var yI=pI;function gI(e,t){var n=PS(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function bI(e,t){var n=gI(e,"transitionDuration"),r=gI(e,"transitionDelay"),i=FS(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var kI,wI=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],xI=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=fS(e,wI),v=(0,t.useRef)(null),p=_S(v,h),m=function(e){var t;p((t=e)&&"setState"in t?u.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&v.current&&e(v.current,t)}},g=(0,t.useCallback)(y(r),[r]),b=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),w=(0,t.useCallback)(y(o),[o]),x=(0,t.useCallback)(y(s),[s]),E=(0,t.useCallback)(y(c),[c]),S=(0,t.useCallback)(y(l),[l]);return(0,uS.jsx)(yI,(0,Xt.Z)((0,Xt.Z)({ref:n},d),{},{onEnter:g,onEntered:k,onEntering:b,onExit:w,onExited:E,onExiting:x,addEndListener:S,nodeRef:v,children:"function"===typeof f?function(e,t){return f(e,(0,Xt.Z)((0,Xt.Z)({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),EI=xI,SI=["className","children","transitionClasses"],II=(kI={},(0,dt.Z)(kI,hI,"show"),(0,dt.Z)(kI,dI,"show"),kI),_I=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=fS(e,SI),s=(0,t.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,uS.jsx)(EI,(0,Xt.Z)((0,Xt.Z)({ref:n,addEndListener:bI},u),{},{onEnter:s,childRef:i.ref,children:function(e,n){return t.cloneElement(i,(0,Xt.Z)((0,Xt.Z)({},n),{},{className:dS()("fade",r,i.props.className,II[e],o[e])}))}}))}));_I.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_I.displayName="Fade";var TI=_I,CI=/-(.)/g;var NI=["xxl","xl","lg","md","sm","xs"],DI=t.createContext({prefixes:{},breakpoints:NI,minBreakpoint:"xs"});DI.Consumer,DI.Provider;function AI(e,n){var r=(0,t.useContext)(DI).prefixes;return e||r[n]||n}var OI=["className","bsPrefix","as"],PI=function(e){return e[0].toUpperCase()+(t=e,t.replace(CI,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function RI(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?PI(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=fS(t,OI),c=AI(i,e);return(0,uS.jsx)(u,(0,Xt.Z)({ref:n,className:dS()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var LI=RI("modal-body"),FI=t.createContext({onHide:function(){}}),MI=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],jI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,u=e.fullscreen,s=e.children,c=e.scrollable,l=fS(e,MI);n=AI(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof u?"".concat(n,"-fullscreen-").concat(u):"".concat(n,"-fullscreen");return(0,uS.jsx)("div",(0,Xt.Z)((0,Xt.Z)({},l),{},{ref:t,className:dS()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),u&&h),children:(0,uS.jsx)("div",{className:dS()("".concat(n,"-content"),i),children:s})}))}));jI.displayName="ModalDialog";var VI=jI,UI=RI("modal-footer"),BI=["className","variant"],zI={"aria-label":HE().string,onClick:HE().func,variant:HE().oneOf(["white"])},qI=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=fS(e,BI);return(0,uS.jsx)("button",(0,Xt.Z)({ref:t,type:"button",className:dS()("btn-close",r&&"btn-close-".concat(r),n)},i))}));qI.displayName="CloseButton",qI.propTypes=zI,qI.defaultProps={"aria-label":"Close"};var KI=qI,HI=["closeLabel","closeVariant","closeButton","onHide","children"],GI=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=fS(e,HI),c=(0,t.useContext)(FI),l=SS((function(){null==c||c.onHide(),null==o||o()}));return(0,uS.jsxs)("div",(0,Xt.Z)((0,Xt.Z)({ref:n},s),{},{children:[u,a&&(0,uS.jsx)(KI,{"aria-label":r,variant:i,onClick:l})]}))}));GI.defaultProps={closeLabel:"Close",closeButton:!1};var WI=GI,QI=["bsPrefix","className"],ZI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=fS(e,QI);return n=AI(n,"modal-header"),(0,uS.jsx)(WI,(0,Xt.Z)((0,Xt.Z)({ref:t},i),{},{className:dS()(r,n)}))}));ZI.displayName="ModalHeader",ZI.defaultProps={closeLabel:"Close",closeButton:!1};var $I,YI=ZI,XI=($I="h4",t.forwardRef((function(e,t){return(0,uS.jsx)("div",(0,Xt.Z)((0,Xt.Z)({},e),{},{ref:t,className:dS()(e.className,$I)}))}))),JI=RI("modal-title",{Component:XI}),e_=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],t_={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:VI};function n_(e){return(0,uS.jsx)(TI,(0,Xt.Z)((0,Xt.Z)({},e),{},{timeout:null}))}function r_(e){return(0,uS.jsx)(TI,(0,Xt.Z)((0,Xt.Z)({},e),{},{timeout:null}))}var i_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,u=e.contentClassName,s=e.children,c=e.dialogAs,l=e["aria-labelledby"],f=e["aria-describedby"],h=e["aria-label"],d=e.show,v=e.animation,p=e.backdrop,m=e.keyboard,y=e.onEscapeKeyDown,g=e.onShow,b=e.onHide,k=e.container,w=e.autoFocus,x=e.enforceFocus,E=e.restoreFocus,S=e.restoreFocusOptions,I=e.onEntered,_=e.onExit,T=e.onExiting,C=e.onEnter,N=e.onEntering,D=e.onExited,A=e.backdropClassName,O=e.manager,P=fS(e,e_),R=W((0,t.useState)({}),2),L=R[0],F=R[1],M=W((0,t.useState)(!1),2),j=M[0],V=M[1],U=(0,t.useRef)(!1),B=(0,t.useRef)(!1),z=(0,t.useRef)(null),q=W((0,t.useState)(null),2),K=q[0],H=q[1],G=_S(n,H),Q=SS(b),Z="rtl"===(0,t.useContext)(DI).dir;r=AI(r,"modal");var $=(0,t.useMemo)((function(){return{onHide:Q}}),[Q]);function Y(){return O||function(e){return rI||(rI=new uI(e)),rI}({isRTL:Z})}function X(e){if(vS){var t=Y().getScrollbarWidth()>0,n=e.scrollHeight>bS(e).documentElement.clientHeight;F({paddingRight:t&&!n?xS():void 0,paddingLeft:!t&&n?xS():void 0})}}var J=SS((function(){K&&X(K.dialog)}));TS((function(){wS(window,"resize",J),null==z.current||z.current()}));var ee=function(){U.current=!0},te=function(e){U.current&&K&&e.target===K.dialog&&(B.current=!0),U.current=!1},ne=function(){V(!0),z.current=FS(K.dialog,(function(){V(!1)}))},re=function(e){"static"!==p?B.current||e.target!==e.currentTarget?B.current=!1:null==b||b():function(e){e.target===e.currentTarget&&ne()}(e)},ie=(0,t.useCallback)((function(e){return(0,uS.jsx)("div",(0,Xt.Z)((0,Xt.Z)({},e),{},{className:dS()("".concat(r,"-backdrop"),A,!v&&"show")}))}),[v,A,r]),ae=(0,Xt.Z)((0,Xt.Z)({},a),L);ae.display="block";return(0,uS.jsx)(FI.Provider,{value:$,children:(0,uS.jsx)(JS,{show:d,ref:G,backdrop:p,container:k,keyboard:!0,autoFocus:w,enforceFocus:x,restoreFocus:E,restoreFocusOptions:S,onEscapeKeyDown:function(e){m?null==y||y(e):(e.preventDefault(),"static"===p&&ne())},onShow:g,onHide:b,onEnter:function(e,t){e&&X(e),null==C||C(e,t)},onEntering:function(e,t){null==N||N(e,t),gS(window,"resize",J)},onEntered:I,onExit:function(e){null==z.current||z.current(),null==_||_(e)},onExiting:T,onExited:function(e){e&&(e.style.display=""),null==D||D(e),wS(window,"resize",J)},manager:Y(),transition:v?n_:void 0,backdropTransition:v?r_:void 0,renderBackdrop:ie,renderDialog:function(e){return(0,uS.jsx)("div",(0,Xt.Z)((0,Xt.Z)({role:"dialog"},e),{},{style:ae,className:dS()(i,r,j&&"".concat(r,"-static"),!v&&"show"),onClick:p?re:void 0,onMouseUp:te,"aria-label":h,"aria-labelledby":l,"aria-describedby":f,children:(0,uS.jsx)(c,(0,Xt.Z)((0,Xt.Z)({},P),{},{onMouseDown:ee,className:o,contentClassName:u,children:s}))}))}})})}));i_.displayName="Modal",i_.defaultProps=t_;var a_=Object.assign(i_,{Body:LI,Header:YI,Title:JI,Footer:UI,Dialog:VI,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),o_=["as","disabled"];function u_(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var s_=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o_),a=W(u_(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,uS.jsx)(u,Object.assign({},i,o,{ref:t}))}));s_.displayName="Button";var c_=["as","bsPrefix","variant","size","active","className"],l_=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,s=fS(e,c_),c=AI(r,"btn"),l=W(u_((0,Xt.Z)({tagName:n},s)),2),f=l[0],h=l[1].tagName;return(0,uS.jsx)(h,(0,Xt.Z)((0,Xt.Z)((0,Xt.Z)({},f),s),{},{ref:t,className:dS()(u,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),s.href&&s.disabled&&"disabled")}))}));l_.displayName="Button",l_.defaultProps={variant:"primary",active:!1,disabled:!1};var f_=l_,h_=["as","className","type","tooltip"],d_={type:HE().string,tooltip:HE().bool,as:HE().elementType},v_=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=fS(e,h_);return(0,uS.jsx)(r,(0,Xt.Z)((0,Xt.Z)({},c),{},{ref:t,className:dS()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));v_.displayName="Feedback",v_.propTypes=d_;var p_=v_,m_=t.createContext({}),y_=["id","bsPrefix","className","type","isValid","isInvalid","as"],g_=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,v=fS(e,y_),p=(0,t.useContext)(m_).controlId;return i=AI(i,"form-check-input"),(0,uS.jsx)(d,(0,Xt.Z)((0,Xt.Z)({},v),{},{ref:n,type:u,id:r||p,className:dS()(a,i,c&&"is-valid",f&&"is-invalid")}))}));g_.displayName="FormCheckInput";var b_=g_,k_=["bsPrefix","className","htmlFor"],w_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=fS(e,k_),u=(0,t.useContext)(m_).controlId;return r=AI(r,"form-check-label"),(0,uS.jsx)("label",(0,Xt.Z)((0,Xt.Z)({},o),{},{ref:n,htmlFor:a||u,className:dS()(i,r)}))}));w_.displayName="FormCheckLabel";var x_=w_;var E_=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],S_=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,c=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,v=e.isInvalid,p=void 0!==v&&v,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,b=e.feedbackType,k=e.className,w=e.style,x=e.title,E=void 0===x?"":x,S=e.type,I=void 0===S?"checkbox":S,_=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,D=fS(e,E_);i=AI(i,"form-check"),a=AI(a,"form-switch");var A=(0,t.useContext)(m_).controlId,O=(0,t.useMemo)((function(){return{controlId:r||A}}),[A,r]),P=!T&&null!=_&&!1!==_||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(T,x_),R=(0,uS.jsx)(b_,(0,Xt.Z)((0,Xt.Z)({},D),{},{type:"switch"===I?"checkbox":I,ref:n,isValid:d,isInvalid:p,disabled:f,as:N}));return(0,uS.jsx)(m_.Provider,{value:O,children:(0,uS.jsx)("div",{style:w,className:dS()(k,P&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===I&&a),children:T||(0,uS.jsxs)(uS.Fragment,{children:[R,P&&(0,uS.jsx)(x_,{title:E,children:_}),g&&(0,uS.jsx)(p_,{type:b,tooltip:y,children:g})]})})})}));S_.displayName="FormCheck";var I_=Object.assign(S_,{Input:b_,Label:x_}),__=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),T_=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,v=void 0!==d&&d,p=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,b=fS(e,__),k=(0,t.useContext)(m_).controlId;(a=AI(a,"form-control"),p)?r=(0,dt.Z)({},"".concat(a,"-plaintext"),!0):(i={},(0,dt.Z)(i,a,!0),(0,dt.Z)(i,"".concat(a,"-").concat(u),u),r=i);return(0,uS.jsx)(g,(0,Xt.Z)((0,Xt.Z)({},b),{},{type:o,size:s,ref:n,readOnly:m,id:c||k,className:dS()(l,r,h&&"is-valid",v&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));T_.displayName="FormControl";var C_=Object.assign(T_,{Feedback:p_}),N_=RI("form-floating"),D_=["controlId","as"],A_=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=fS(e,D_),u=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,uS.jsx)(m_.Provider,{value:u,children:(0,uS.jsx)(a,(0,Xt.Z)((0,Xt.Z)({},o),{},{ref:n}))})}));A_.displayName="FormGroup";var O_=A_,P_=["as","bsPrefix","className"],R_=["className"];function L_(e){var n=e.as,r=e.bsPrefix,i=e.className,a=fS(e,P_);r=AI(r,"col");var o=(0,t.useContext)(DI).breakpoints,u=(0,t.useContext)(DI).minBreakpoint,s=[],c=[];return o.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var l=e!==u?"-".concat(e):"";t&&s.push(!0===t?"".concat(r).concat(l):"".concat(r).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=n&&c.push("offset".concat(l,"-").concat(n))})),[(0,Xt.Z)((0,Xt.Z)({},a),{},{className:dS().apply(void 0,[i].concat(s,c))}),{as:n,bsPrefix:r,spans:s}]}var F_=t.forwardRef((function(e,t){var n=W(L_(e),2),r=n[0],i=r.className,a=fS(r,R_),o=n[1],u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.spans;return(0,uS.jsx)(s,(0,Xt.Z)((0,Xt.Z)({},a),{},{ref:t,className:dS()(i,!l.length&&c)}))}));F_.displayName="Col";var M_=F_,j_=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],V_=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,c=e.htmlFor,l=fS(e,j_),f=(0,t.useContext)(m_).controlId;a=AI(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=dS()(s,a,u&&"visually-hidden",o&&h);return c=c||f,o?(0,uS.jsx)(M_,(0,Xt.Z)({ref:n,as:"label",className:d,htmlFor:c},l)):(0,uS.jsx)(i,(0,Xt.Z)({ref:n,className:d,htmlFor:c},l))}));V_.displayName="FormLabel",V_.defaultProps={column:!1,visuallyHidden:!1};var U_=V_,B_=["bsPrefix","className","id"],z_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=fS(e,B_),u=(0,t.useContext)(m_).controlId;return r=AI(r,"form-range"),(0,uS.jsx)("input",(0,Xt.Z)((0,Xt.Z)({},o),{},{type:"range",ref:n,className:dS()(i,r),id:a||u}))}));z_.displayName="FormRange";var q_=z_,K_=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],H_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=fS(e,K_),d=(0,t.useContext)(m_).controlId;return r=AI(r,"form-select"),(0,uS.jsx)("select",(0,Xt.Z)((0,Xt.Z)({},h),{},{size:a,ref:n,className:dS()(o,r,i&&"".concat(r,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));H_.displayName="FormSelect";var G_=H_,W_=["bsPrefix","className","as","muted"],Q_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=fS(e,W_);return n=AI(n,"form-text"),(0,uS.jsx)(a,(0,Xt.Z)((0,Xt.Z)({},u),{},{ref:t,className:dS()(r,n,o&&"text-muted")}))}));Q_.displayName="FormText";var Z_=Q_,$_=t.forwardRef((function(e,t){return(0,uS.jsx)(I_,(0,Xt.Z)((0,Xt.Z)({},e),{},{ref:t,type:"switch"}))}));$_.displayName="Switch";var Y_=Object.assign($_,{Input:I_.Input,Label:I_.Label}),X_=["bsPrefix","className","children","controlId","label"],J_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=fS(e,X_);return n=AI(n,"form-floating"),(0,uS.jsxs)(O_,(0,Xt.Z)((0,Xt.Z)({ref:t,className:dS()(r,n),controlId:a},u),{},{children:[i,(0,uS.jsx)("label",{htmlFor:a,children:o})]}))}));J_.displayName="FloatingLabel";var eT=J_,tT=["className","validated","as"],nT={_ref:HE().any,validated:HE().bool,as:HE().elementType},rT=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=fS(e,tT);return(0,uS.jsx)(a,(0,Xt.Z)((0,Xt.Z)({},o),{},{ref:t,className:dS()(n,r&&"was-validated")}))}));rT.displayName="Form",rT.propTypes=nT;var iT=Object.assign(rT,{Group:O_,Control:C_,Floating:N_,Check:I_,Switch:Y_,Label:U_,Text:Z_,Range:q_,Select:G_,FloatingLabel:eT}),aT=function(e){var n=e.showModal,r=e.setShowModal,i=m((function(e){return{Folders:e.filefolder.Folders,currentFolder:e.filefolder.currentFolder,currentFolderData:e.filefolder.Folders.find((function(t){return t.docId===e.filefolder.currentFolder}))}}),T),a=i.currentFolder,o=i.Folders,u=i.currentFolderData,s=I(),c=W((0,t.useState)(""),2),l=c[0],f=c[1];return(0,uS.jsx)("div",{children:(0,uS.jsx)(uS.Fragment,{children:(0,uS.jsxs)(a_,{show:n,onHide:function(){return r(!1)},children:[(0,uS.jsxs)(a_.Header,{children:[(0,uS.jsx)(a_.Title,{children:"Create Folder"}),(0,uS.jsx)(f_,{variant:"white",style:{cursor:"pointer"},onClick:function(){return r(!1)},children:(0,uS.jsx)(aS,{icon:Ck})})]}),(0,uS.jsx)(a_.Body,{children:(0,uS.jsxs)(iT,{onSubmit:function(e){if(e.preventDefault(),l)if(n=l,"root"===a?o.find((function(e){return e.data.name===n})):o.filter((function(e){return e.data.parent===a})).find((function(e){return e.name===n&&e.data.parent===a})))alert("Folder already present.");else{alert("folder created.");var t={name:l,createdAt:new Date,path:"root"===a?[]:[].concat(A(null===u||void 0===u?void 0:u.data.path),[a]),parent:a,lastAccess:null,updatedAt:new Date};console.log(t),s(function(e){return function(t){gk.firestore().collection("Folder").add(e).then(function(){var e=st(ot().mark((function e(n){var r,i;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get();case 2:return e.next=4,e.sent.data();case 4:r=e.sent,i=n.id,t({type:ct,payload:{data:r,docId:i}}),alert("folder created successfully");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}(t))}else alert("folder  name cannot be empty.");var n},children:[(0,uS.jsx)(iT.Group,{controlId:"formBasicFolderName",className:"my-2",children:(0,uS.jsx)(iT.Control,{type:"text",placeholder:"Enter folder name...",value:l,onChange:function(e){return f(e.target.value)}})}),(0,uS.jsx)(iT.Group,{controlId:"formBasicFolderSubmit",className:"mt-5",children:(0,uS.jsx)(f_,{type:"submit",className:"form-control",variant:"primary",children:"Add Folder"})})]})})]})})})},oT=function(){var e=function(){var e=t.useContext(Ue).matches,n=e[e.length-1];return n?n.params:{}}().folderId,n=m((function(t){var n;return{currentFolderData:null===(n=t.filefolder.Folders.find((function(t){return t.docId===e})))||void 0===n?void 0:n.data,childFolder:t.filefolder.Folders.filter((function(t){return t.data.parent===e}))}}),T),r=(n.currentFolderData,n.childFolder);return(0,uS.jsx)("div",{children:(null===r||void 0===r?void 0:r.length)>0?(0,uS.jsx)("div",{children:(0,uS.jsx)(sS,{title:"Folders",type:"folder",items:r})}):(0,uS.jsx)("p",{children:"Empty Folder"})})};function uT(){return uT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uT.apply(this,arguments)}function sT(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var cT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function lT(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),ae((function(e,t){var n=e.location;return ne("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:re(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=W(t.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(nt,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var fT="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,hT=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=sT(e,cT),h="string"===typeof c?c:re(c),d=/^[a-z+]+:\/\//i.test(h)||h.startsWith("//"),v=h,p=!1;if(fT&&d){var m=new URL(window.location.href),y=h.startsWith("//")?new URL(m.protocol+h):new URL(h);y.origin===m.origin?v=y.pathname+y.search+y.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;ze()||ee(!1);var i=t.useContext(je),a=i.basename,o=i.navigator,u=He(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ke([a,c])),o.createHref({pathname:f,search:l,hash:s})}(v,{relative:i}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Ke(),l=qe(),f=He(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:re(l)===re(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(v,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return t.createElement("a",uT({},f,{href:d?h:g,onClick:p||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:n,target:s}))}));var dT,vT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(dT||(dT={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(vT||(vT={}));var pT=function(e){var t=e.setCreateFolderOpt,n=Ke(),r=I(),i=m((function(e){return{Folders:e.filefolder.Folders,currentFolder:e.filefolder.currentFolder,currentFolderData:e.filefolder.Folders.find((function(t){return t.docId===e.filefolder.currentFolder}))}}),T),a=i.currentFolder,o=i.Folders,u=i.currentFolderData,s=function(e,t){n(e),r(kk(t))};return(0,uS.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light mt-2 bg-white  border",children:[(0,uS.jsx)("nav",{"aria-label":"breadcrumb",className:"ms-5 ",children:(0,uS.jsx)("ol",{className:"breadcrumb d-flex align-item-center",children:"root"!==a?(0,uS.jsxs)(uS.Fragment,{children:[(0,uS.jsx)("button",{onClick:function(){return s("/home","root")},className:"breadcrumb-item btn btn-link text-docoration-none",children:"Root"}),null===u||void 0===u?void 0:u.data.path.map((function(e,t){return(0,uS.jsx)("button",{className:"breadcrumb-item btn btn-link",onClick:function(){return s("/home/folder/".concat(o.find((function(t){return e===t.docId})).docId),o.find((function(t){return e===t.docId})).docId)},children:o.find((function(t){return e===t.docId})).data.name},t)})),(0,uS.jsx)("li",{className:"breadcrumb-item btn active",children:null===u||void 0===u?void 0:u.data.name})]}):(0,uS.jsx)("li",{className:"breadcrumb-item",children:(0,uS.jsx)(hT,{to:"/home",children:"Root"})})})}),(0,uS.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,uS.jsx)("li",{className:"nav-item",children:(0,uS.jsxs)("button",{className:"btn btn-outline-dark",children:[(0,uS.jsx)(aS,{icon:_k})," Upload File"]})}),(0,uS.jsx)("li",{className:"nav-item",children:(0,uS.jsxs)("button",{className:"btn btn-outline-dark",children:[(0,uS.jsx)(aS,{icon:Nk})," Create File"]})}),(0,uS.jsx)("li",{className:"nav-item",children:(0,uS.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){return t(!0)},children:[(0,uS.jsx)(aS,{icon:Ek})," Create Folder"]})})]})]})};var mT=function(){var e=I(),n=W((0,t.useState)(!1),2),r=n[0],i=n[1],a=m((function(e){return{isLoading:e.filefolder.isLoading}}),T).isLoading;return(0,t.useEffect)((function(){a&&e((function(e){e(bk(!0)),gk.firestore().collection("Folder").get().then(function(){var t=st(ot().mark((function t(n){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.docs.map((function(e){return{data:e.data(),docId:e.id}}));case 2:r=t.sent,e(bk(!1)),e({type:lt,payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}),[a,e]),(0,uS.jsxs)("div",{children:[r&&(0,uS.jsx)(aT,{setShowModal:i,showModal:r}),(0,uS.jsx)(pT,{setCreateFolderOpt:i}),(0,uS.jsxs)(rt,{children:[(0,uS.jsx)(tt,{path:"",element:(0,uS.jsx)(cS,{})}),(0,uS.jsx)(tt,{path:"folder/:folderId",element:(0,uS.jsx)(oT,{})})]})]})};var yT=function(){return(0,uS.jsx)("div",{children:"Navigation"})},gT=function(){return(0,uS.jsxs)("div",{children:[(0,uS.jsx)(yT,{}),(0,uS.jsx)(mT,{})]})};var bT=function(){return(0,uS.jsx)("div",{children:(0,uS.jsxs)(rt,{children:[(0,uS.jsx)(tt,{exact:!0,path:"/",element:(0,uS.jsx)(gT,{})}),(0,uS.jsx)(tt,{path:"/home/*",element:(0,uS.jsx)(mT,{})})]})})},kT=n(781),wT=n(484);function xT(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ET=xT();ET.withExtraArgument=xT;var ST=ET,IT={},_T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IT,t=arguments.length>1?arguments[1]:void 0;return t.type,e},TT={isLoading:!0,currentFolder:"root",Folders:[],Files:[]},CT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return(0,Xt.Z)((0,Xt.Z)({},e),{},{Folders:[].concat(A(e.Folders),[t.payload])});case lt:return(0,Xt.Z)((0,Xt.Z)({},e),{},{Folders:t.payload});case ft:return(0,Xt.Z)((0,Xt.Z)({},e),{},{isLoading:t.payload});case ht:return(0,Xt.Z)((0,Xt.Z)({},e),{},{currentFolder:t.payload});default:return e}},NT=(0,kT.UY)({auth:_T,filefolder:CT}),DT=(0,kT.MT)(NT,(0,wT.Uo)((0,kT.md)(ST)));i.createRoot(document.getElementById("root")).render((0,uS.jsx)(lT,{children:(0,uS.jsx)(k,{store:DT,children:(0,uS.jsx)(bT,{})})}))}()}();
//# sourceMappingURL=main.a69c73ad.js.map